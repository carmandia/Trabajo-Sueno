<!DOCTYPE html>
<!-- saved from url=(0065)http://127.0.0.1:3517/Trabajo_final.Rmd#section-introducci%C3%B3n -->
<html class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <script type="application/shiny-singletons"></script>
  <script type="application/html-dependencies">jquery[3.6.0];shiny-css[1.10.0];shiny-busy-indicators[1.10.0];shiny-javascript[1.10.0]</script>
<script src="./Estudio de enfermedades del sueño_files/jquery.min.js.descargar"></script>
<link href="./Estudio de enfermedades del sueño_files/shiny.min.css" rel="stylesheet">
<link href="./Estudio de enfermedades del sueño_files/busy-indicators.css" rel="stylesheet">
<script src="./Estudio de enfermedades del sueño_files/shiny.min.js.descargar"></script>  <script src="./Estudio de enfermedades del sueño_files/rmd_loader.js.descargar"></script>
  <link href="./Estudio de enfermedades del sueño_files/rmd_loader.css" rel="stylesheet">
<script src="./Estudio de enfermedades del sueño_files/header-attrs.js.descargar"></script><meta name="viewport" content="width=device-width, initial-scale=1"><link href="./Estudio de enfermedades del sueño_files/cosmo.min.css" rel="stylesheet" type="text/css"><script src="./Estudio de enfermedades del sueño_files/bootstrap.min.js.descargar"></script><script src="./Estudio de enfermedades del sueño_files/html5shiv.min.js.descargar"></script><script src="./Estudio de enfermedades del sueño_files/respond.min.js.descargar"></script><style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style><script src="./Estudio de enfermedades del sueño_files/jquery.stickytableheaders.min.js.descargar"></script><link href="./Estudio de enfermedades del sueño_files/theme-cosmo-value-box.css" rel="stylesheet" type="text/css"><link href="./Estudio de enfermedades del sueño_files/flexdashboard.min.css" rel="stylesheet" type="text/css"><link href="./Estudio de enfermedades del sueño_files/theme-cosmo.css" rel="stylesheet" type="text/css"><link href="./Estudio de enfermedades del sueño_files/selectize.bootstrap3.css" rel="stylesheet" type="text/css"><script src="./Estudio de enfermedades del sueño_files/selectize.min.js.descargar"></script><script src="./Estudio de enfermedades del sueño_files/selectize-plugin-a11y.min.js.descargar"></script><link href="./Estudio de enfermedades del sueño_files/all.min.css" rel="stylesheet" type="text/css"><link href="./Estudio de enfermedades del sueño_files/v4-shims.min.css" rel="stylesheet" type="text/css"><script src="./Estudio de enfermedades del sueño_files/sly.min.js.descargar"></script><link href="./Estudio de enfermedades del sueño_files/rmd_perf.css" rel="stylesheet" type="text/css"><script src="./Estudio de enfermedades del sueño_files/rmd_perf.js.descargar"></script><meta name="rstudio_origin" content="127.0.0.1:45599"><script src="./Estudio de enfermedades del sueño_files/rsiframe.js.descargar"></script>



<meta name="generator" content="pandoc">



<title>Estudio de enfermedades del sueño</title>

<meta property="og:title" content="Estudio de enfermedades del sueño">

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<link rel="icon" href="data:image/x-icon;" type="image/x-icon">

<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script type="text/javascript">
window.FlexDashboardComponents = [];
</script>

<style type="text/css">
/*
  CSS for flexdashboard.js' use of Sly(). The sizing/position of this CSS needs to be
  applied _before_ flexdashboard.js initializes, which is why this CSS has been pulled
  out from flexdashboard.scss and inlined in the document's head.
*/

.storyboard-nav button {
  background: transparent;
  border: 0;
  opacity: .3;
  outline: none;
  padding: 0;
}

.storyboard-nav button:hover,
.storyboard-nav button:hover {
  opacity: .5;
}

.storyboard-nav button:disabled,
.storyboard-nav button:disabled {
  opacity: .1;
}

.storyboard-nav .sbnext,
.storyboard-nav .sbprev {
  float: left;
  width: 2%;
  height: 120px;
}

.storyboard-nav .sbprev {
  text-align: left;
  width: 2%;
}

.storyboard-nav .sbnext {
  float: right;
  text-align: right;
  margin-right: 8px;
}

.storyboard-nav .sbframelist {
  margin: 0 auto;
  width: 94%;
  height: 120px;
  overflow: hidden;
  text-shadow: none;
  margin-bottom: 8px;
}

.storyboard-nav .sbframelist ul {
  list-style: none;
  margin: 0;
  padding: 0;
  height: 100%;
}

.storyboard-nav .sbframelist ul li {
  float: left;
  width: 270px;
  height: 100%;
  padding: 10px 10px 10px 10px;
  margin-right: 8px;
  text-align: left;
  cursor: pointer;
}

.storyboard-nav .sbframelist ul li:last-child {
  margin-right: 0px;
}

.sbframe-commentary {
  width: 300px;
}

.sbframe-commentary ul {
  padding-left: 22px;
}

.sbframe.active {
  display: flex;
}

.sbframe:not(.active) {
  display: none;
}
@media only screen and (min-width: 768px) {
html, body {
  height: 100%;
}

#dashboard-container {
  height: 100%;
}
}
</style>



<script type="text/javascript" src="./Estudio de enfermedades del sueño_files/MathJax.js.descargar"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover, .MJXp-munder {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > *, .MJXp-munder > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body style="padding-top: 58.8px;"><div id="MathJax_Message" style="display: none;"></div>
  <div style="height: 100%;">
    <div class="shiny-panel-conditional" data-display-if="!output.__reactivedoc__" data-ns-prefix="" style="display: none;">
      <div id="rmd_loader_wrapper">
        <div id="rmd_loader" style="">
          <p>Please wait...</p>
          <img src="./Estudio de enfermedades del sueño_files/rmd_loader.gif">
        </div>
      </div>
    </div>
    <div id="__reactivedoc__" class="shiny-html-output shiny-bound-output" aria-live="polite" style="height: 100%;">





<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
<div class="container-fluid">
<div class="navbar-header">

<span class="navbar-logo pull-left">
  
</span>
<span class="navbar-brand">
  Estudio de enfermedades del sueño
  <span class="navbar-author">
        </span>
</span>

<button id="navbar-button" type="button" class="navbar-toggle collapsed pull-right" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar" aria-expanded="false">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>

</div>
<div id="navbar" class="navbar-collapse collapse" aria-expanded="false">
<ul class="nav navbar-nav navbar-left">
<li class="nav-item active"><a class="nav-link" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-introducci%C3%B3n" data-toggle="tab" data-bs-toggle="tab" aria-expanded="true">Introducción</a></li><li class="nav-item dropdown" id="Tratamientoinicial"><a class="nav-link dropdown-toggle" href="http://127.0.0.1:3517/Trabajo_final.Rmd#" data-toggle="dropdown" data-bs-toggle="dropdown" role="button" aria-expanded="false">Tratamiento inicial <span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li><a class="dropdown-item" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-lectura-y-visualizaci%C3%B3n-inicial" data-toggle="tab" data-bs-toggle="tab">Lectura y visualización inicial</a></li><li><a class="dropdown-item" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-depuraci%C3%B3n-de-los-datos" data-toggle="tab" data-bs-toggle="tab">Depuración de los datos</a></li></ul></li><li class="nav-item dropdown" id="Estudiodeinfluenciaenlavariableobjetivo"><a class="nav-link dropdown-toggle" href="http://127.0.0.1:3517/Trabajo_final.Rmd#" data-toggle="dropdown" data-bs-toggle="dropdown" role="button" aria-expanded="false">Estudio de influencia en la variable objetivo <span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li><a class="dropdown-item" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-presion-arterial-alta-y-baja" data-toggle="tab" data-bs-toggle="tab">Presion Arterial (Alta y baja)</a></li><li><a class="dropdown-item" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-pulsaciones-por-minuto" data-toggle="tab" data-bs-toggle="tab">Pulsaciones por minuto</a></li><li><a class="dropdown-item" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-%C3%ADndice-de-masa-corporal" data-toggle="tab" data-bs-toggle="tab">Índice de masa corporal</a></li><li><a class="dropdown-item" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-ocupaci%C3%B3n-laboral-y-nivel-de-estr%C3%A9s" data-toggle="tab" data-bs-toggle="tab">Ocupación laboral y nivel de estrés</a></li><li><a class="dropdown-item" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-actividad-f%C3%ADsica-y-duraci%C3%B3n-del-sue%C3%B1o" data-toggle="tab" data-bs-toggle="tab">Actividad física y duración del sueño</a></li></ul></li><li class="nav-item dropdown" id="Modeladodedatos"><a class="nav-link dropdown-toggle" href="http://127.0.0.1:3517/Trabajo_final.Rmd#" data-toggle="dropdown" data-bs-toggle="dropdown" role="button" aria-expanded="false">Modelado de datos <span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li><a class="dropdown-item" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-divisi%C3%B3n-y-preparaci%C3%B3n-del-conjunto-de-datos" data-toggle="tab" data-bs-toggle="tab">División y preparación del conjunto de datos</a></li><li><a class="dropdown-item" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-modelo-naive-bayes" data-toggle="tab" data-bs-toggle="tab">Modelo Naive-Bayes</a></li><li><a class="dropdown-item" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-modelo-random-forest" data-toggle="tab" data-bs-toggle="tab">Modelo Random forest</a></li><li><a class="dropdown-item" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-modelo-decision-tree" data-toggle="tab" data-bs-toggle="tab">Modelo Decision Tree</a></li><li><a class="dropdown-item" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-modelo-knn" data-toggle="tab" data-bs-toggle="tab">Modelo KNN</a></li><li><a class="dropdown-item" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-modelo-mlp" data-toggle="tab" data-bs-toggle="tab">Modelo MLP</a></li><li><a class="dropdown-item" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-elecci%C3%B3n-mejor-modelo" data-toggle="tab" data-bs-toggle="tab">Elección mejor modelo</a></li></ul></li><li class="nav-item"><a class="nav-link" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-nuevos-pacientes" data-toggle="tab" data-bs-toggle="tab" aria-expanded="false">Nuevos pacientes</a></li></ul>
<ul class="nav navbar-nav navbar-right">
</ul>
</div><!--/.nav-collapse-->
</div><!--/.container-->
</div><!--/.navbar-->

<img class="mobile-figure" data-mobile-figure-id="fig1" src="./Estudio de enfermedades del sueño_files/unnamed-chunk-14-1.mb.png">
<img class="mobile-figure" data-mobile-figure-id="fig2" src="./Estudio de enfermedades del sueño_files/unnamed-chunk-15-1.mb.png">
<img class="mobile-figure" data-mobile-figure-id="fig3" src="./Estudio de enfermedades del sueño_files/unnamed-chunk-16-1.mb.png">
<img class="mobile-figure" data-mobile-figure-id="fig4" src="./Estudio de enfermedades del sueño_files/unnamed-chunk-17-1.mb.png">
<img class="mobile-figure" data-mobile-figure-id="fig5" src="./Estudio de enfermedades del sueño_files/unnamed-chunk-18-1.mb.png">
<img class="mobile-figure" data-mobile-figure-id="fig6" src="./Estudio de enfermedades del sueño_files/unnamed-chunk-19-1.mb.png">
<img class="mobile-figure" data-mobile-figure-id="fig7" src="./Estudio de enfermedades del sueño_files/unnamed-chunk-20-1.mb.png">
<img class="mobile-figure" data-mobile-figure-id="fig8" src="./Estudio de enfermedades del sueño_files/unnamed-chunk-21-1.mb.png">
<script type="text/javascript">


var FlexDashboard = (function () {

  // initialize options
  var _options = {};

  var FlexDashboard = function() {

    // default options
    _options = $.extend(_options, {
      theme: "cosmo",
      fillPage: false,
      orientation: 'columns',
      storyboard: false,
      defaultFigWidth: 576,
      defaultFigHeight: 461,
      defaultFigWidthMobile: 360,
      defaultFigHeightMobile: 461,
      isMobile: false,
      isPortrait: false,
      resize_reload: true
    });
  };

  function init(options) {

    // extend default options
    $.extend(true, _options, options);

    // add ids to sections that don't have them (pandoc won't assign ids
    // to e.g. sections with titles consisting of only chinese characters)
    var nextId = 1;
    $('.level1:not([id]),.level2:not([id]),.level3:not([id])').each(function() {
      $(this).attr('id', 'dashboard-' + nextId++);
    });

    // find navbar items
    var navbarItems = $('#flexdashboard-navbar');
    if (navbarItems.length)
      navbarItems = JSON.parse(navbarItems.html());
    addNavbarItems(navbarItems);

    // find the main dashboard container
    var dashboardContainer = $('#dashboard-container');

    // resolve mobile classes
    resolveMobileClasses(dashboardContainer);

    // one time global initialization for components
    componentsInit(dashboardContainer);

    // look for a global sidebar
    var globalSidebar = dashboardContainer.find(".section.level1.sidebar");
    if (globalSidebar.length > 0) {

      // global layout for fullscreen displays
      if (!isMobilePhone()) {

         // hoist it up to the top level
         globalSidebar.insertBefore(dashboardContainer);

         // lay it out (set width/positions)
         layoutSidebar(globalSidebar, dashboardContainer);

      // tuck sidebar into first page for mobile phones
      } else {

        // convert it into a level3 section
        globalSidebar.removeClass('sidebar');
        globalSidebar.removeClass('level1');
        globalSidebar.addClass('level3');
        var h1 = globalSidebar.children('h1');
        var h3 = $('<h3></h3>');
        h3.append(h1.contents());
        h3.insertBefore(h1);
        h1.detach();

        // move it into the first page
        var page = dashboardContainer.find('.section.level1').first();
        if (page.length > 0)
          page.prepend(globalSidebar);
      }
    }

    // look for pages to layout
    var pages = $('div.section.level1');
    if (pages.length > 0) {

        // find the navbar and collapse on clicked
        var navbar = $('#navbar');
        navbar.on("click", "a[data-toggle!=dropdown]", null, function () {
           navbar.collapse('hide');
        });

        // envelop the dashboard container in a tab content div
        dashboardContainer.wrapInner('<div class="tab-content"></div>');

        pages.each(function(index) {

          // lay it out
          layoutDashboardPage($(this));

          // add it to the navbar
          addToNavbar($(this), index === 0);

        });

    } else {

      // remove the navbar and navbar button if we don't
      // have any navbuttons
      if (navbarItems.length === 0) {
        $('#navbar').remove();
        $('#navbar-button').remove();
      }

      // add the storyboard class if requested
      if (_options.storyboard)
        dashboardContainer.addClass('storyboard');

      // layout the entire page
      layoutDashboardPage(dashboardContainer);
    }

    // if we are in shiny we need to trigger a window resize event to
    // force correct layout of shiny-bound-output elements
    if (isShinyDoc())
      $(window).trigger('resize');

    // make main components visible
    $('.section.sidebar').css('visibility', 'visible');
    dashboardContainer.css('visibility', 'visible');

    // handle location hash
    handleLocationHash();

    // intialize prism highlighting
    initPrismHighlighting();

    // record mobile and orientation state then register a handler
    // to refresh if resize_reload is set to true and it changes
    _options.isMobile = isMobilePhone();
    _options.isPortrait = isPortrait();
    if (_options.resize_reload) {
      $(window).on('resize', function() {
        if (_options.isMobile !== isMobilePhone() ||
            _options.isPortrait !== isPortrait()) {
          window.location.reload();
        }
      });
    } else {
      // if in desktop mode and resizing to mobile, make sure the heights are 100%
      // This enforces what `fillpage.css` does for "wider" pages.
      // Since we are not reloading once the page becomes small, we need to force the height to 100%
      // This is a new situation introduced when `_options.resize_reload` is `false`
      if (! _options.isMobile) {
        // only add if `fillpage.css` was added in the first place
        if (_options.fillPage) {
          // fillpage.css
          $("html,body,#dashboard").css("height", "100%");
        }
      }
    }
    // trigger layoutcomplete event
    dashboardContainer.trigger('flexdashboard:layoutcomplete');
  }

  function resolveMobileClasses(dashboardContainer) {
     // add top level layout class
    dashboardContainer.addClass(isMobilePhone() ? 'mobile-layout' :
                                                  'desktop-layout');

    // look for .mobile sections and add .no-mobile to their peers
    var mobileSections = $('.section.mobile');
    mobileSections.each(function() {
       var id = $(this).attr('id');
       var nomobileId = id.replace(/-\d+$/, '');
       $('#' + nomobileId).addClass('no-mobile');
    });
  }

  function addNavbarItems(navbarItems) {

    var navbarLeft = $('ul.navbar-left');
    var navbarRight = $('ul.navbar-right');

    for (var i = 0; i<navbarItems.length; i++) {

      // get the item
      var item = navbarItems[i];

      // determine the container
      var container = null;
      if (item.align === "left")
        container = navbarLeft;
      else
        container = navbarRight;

      // navbar menu if we have multiple items
      if (item.items) {
        var menu = navbarMenu(null, item.icon, item.title, container);
        for (var j = 0; j<item.items.length; j++) {
          var subItem = item.items[j];
          var li = $('<li></li>');
          var a = navbarLink(subItem.icon, subItem.title, subItem.href, subItem.target);
          a.removeClass("nav-link").addClass("dropdown-item");
          li.append(a);
          menu.append(li);
        }
      } else {
        var li = $('<li class="nav-item"></li>');
        li.append(navbarLink(item.icon, item.title, item.href, item.target));
        container.append(li);
      }
    }
  }

  // create or get a reference to an existing dropdown menu
  function navbarMenu(id, icon, title, container) {
    var existingMenu = [];
    if (id)
      existingMenu = container.children('#' + id);
    if (existingMenu.length > 0) {
      return existingMenu.children('ul');
    } else {
      var li = $('<li class="nav-item"></li>');
      if (id)
        li.attr('id', id);
      li.addClass('dropdown');
      // auto add "Share" title on mobile if necessary
      if (!title && icon && (icon === "fa-share-alt") && isMobilePhone())
        title = "Share";
      if (title) {
        title = title + ' <span class="caret"></span>';
      }
      var a = navbarLink(icon, title, "#");
      a.addClass('dropdown-toggle');
      a.attr('data-toggle', 'dropdown');
      a.attr('data-bs-toggle', 'dropdown');
      a.attr('role', 'button');
      a.attr('aria-expanded', 'false');
      li.append(a);
      var ul = $('<ul class="dropdown-menu"></ul>');
      ul.attr('role', 'menu');
      li.append(ul);
      container.append(li);
      return ul;
    }
  }

  function addToNavbar(page, active) {

    // capture the id and data-icon attribute (if any)
    var id = page.attr('id');
    var icon = page.attr('data-icon');
    var navmenu = page.attr('data-navmenu');
    var navmenuIcon = page.attr('data-navmenu-icon');

    // get hidden state (transfer this to navbar)
    var hidden = page.hasClass('hidden');
    page.removeClass('hidden');

    // sanitize the id for use with bootstrap tabs
    id = id.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_');
    page.attr('id', id);

    // get the wrapper
    var wrapper = page.closest('.dashboard-page-wrapper');

    // move the id to the wrapper
    page.removeAttr('id');
    wrapper.attr('id', id);

    // add the tab-pane class to the wrapper
    wrapper.addClass('tab-pane');

    // get a reference to the h1, discover its inner contens, then detach it
    var h1 = wrapper.find('h1').first();
    var title = h1.contents();
    h1.detach();

    // create a navbar item
    var li = $('<li></li>');
    var a = navbarLink(icon, title, '#' + id);
    a.attr('data-toggle', 'tab');
    a.attr('data-bs-toggle', 'tab');
    li.append(a);

    // add it to the navbar (or navbar menu if specified)
    var container = $('ul.navbar-left');
    if (navmenu) {
      var menuId = navmenu.replace(/\s+/g, '');
      var menu = navbarMenu(menuId, navmenuIcon, navmenu, container);
      li.find("> a").removeClass("nav-link").addClass("dropdown-item");
      menu.append(li);
    } else {
      li.addClass("nav-item")
      container.append(li);
    }

    // mark active tab and corresponding nav menu item
    if (active)
      $(a).tab("show");

    // hide it if requested
    if (hidden)
      li.addClass('hidden');
  }

  function navbarLink(icon, title, href, target) {

    var a = $('<a class="nav-link"></a>');
    if (icon) {

      // get the name of the icon set and icon
      var dashPos = icon.indexOf("-");
      var iconSet = null;
      var iconSplit = icon.split(" ");
      if (iconSplit.length > 1) {
        iconSet = iconSplit[0];
        icon = iconSplit.slice(1).join(" ");
      } else {
        iconSet = icon.substring(0, dashPos);
      }
      var iconName = icon.substring(dashPos + 1);

      // create the icon
      var iconElement = $('<span class="' + iconSet + ' ' + icon + '"></span>');
      if (title)
        iconElement.css('margin-right', '7px');
      a.append(iconElement);
      // if href is null see if we can auto-generate based on icon (e.g. social)
      if (!href)
        maybeGenerateLinkFromIcon(iconName, a);
    }
    if (title)
      a.append(title);

    // add the href.
    if (href) {
      if (href === "source_embed") {
        a.attr('href', '#');
        a.attr('data-featherlight', "#flexdashboard-source-code");
        a.featherlight({
            beforeOpen: function(event){
              $('body').addClass('unselectable');
            },
            afterClose: function(event){
              $('body').removeClass('unselectable');
            }
        });
      } else {
        a.attr('href', href);
      }
    }

    // add the arget
    if (target)
      a.attr('target', target);

    return a;
  }

  // auto generate a link from an icon name (e.g. twitter) when possible
  function maybeGenerateLinkFromIcon(iconName, a) {

     var serviceLinks = {
      "twitter": "https://twitter.com/share?text=" + encodeURIComponent(document.title) + "&url="+encodeURIComponent(location.href),
      "facebook": "https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(location.href),
      "linkedin": "https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(location.href) + "&title=" + encodeURIComponent(document.title),
      "pinterest": "https://pinterest.com/pin/create/link/?url="+encodeURIComponent(location.href) + "&description=" + encodeURIComponent(document.title)
    };

    var makeSocialLink = function(a, href) {
      a.attr('href', '#');
      a.on('click', function(e) {
        e.preventDefault();
        window.open(href);
      });
    };

    $.each(serviceLinks, function(key, value) {
      if (iconName.indexOf(key) !== -1)
        makeSocialLink(a, value);
    });
  }

  // layout a dashboard page
  function layoutDashboardPage(page) {

    // use a page wrapper so that free form content above the
    // dashboard appears at the top rather than the side (as it
    // would without the wrapper in a column orientation)
    var wrapper = $('<div class="dashboard-page-wrapper"></div>');
    page.wrap(wrapper);

    // if there are no level2 or level3 headers synthesize a level3
    // header to contain the (e.g. frame it, scroll container, etc.)
    var headers = page.find('h2,h3');
    if (headers.length === 0)
      page.wrapInner('<div class="section level3"></div>');

    // hoist up any content before level 2 or level 3 headers
    var children = page.children();
    children.each(function(index) {
      if ($(this).hasClass('level2') || $(this).hasClass('level3'))
        return false;
      $(this).insertBefore(page);
    });

    // determine orientation and fillPage behavior for distinct media
    var orientation, fillPage, storyboard;

    // media: mobile phone
    if (isMobilePhone()) {

      // if there is a sidebar we need to ensure it's content
      // is properly framed as an h3
      var sidebar = page.find('.section.sidebar');
      sidebar.removeClass('sidebar');
      sidebar.wrapInner('<div class="section level3"></div>');
      var h2 = sidebar.find('h2');
      var h3 = $('<h3></h3>');
      h3.append(h2.contents());
      h3.insertBefore(h2);
      h2.detach();

      // wipeout h2 elements then enclose them in a single h2
      var level2 = page.find('div.section.level2');
      level2.each(function() {
        level2.children('h2').remove();
        level2.children().unwrap();
      });
      page.wrapInner('<div class="section level2"></div>');

      // substitute mobile images
      if (isPortrait()) {
        var mobileFigures = $('img.mobile-figure');
        mobileFigures.each(function() {
          // get the src (might be base64 encoded)
          var src = $(this).attr('src');

          // find it's peer
          var id = $(this).attr('data-mobile-figure-id');
          var img = $('img[data-figure-id=' + id + "]");
          img.attr('src', src)
             .attr('width', _options.defaultFigWidthMobile)
             .attr('height', _options.defaultFigHeightMobile);
        });
      }

      // hoist storyboard commentary into it's own section
      if (page.hasClass('storyboard')) {
        var commentaryHR = page.find('div.section.level3 hr');
        commentaryHR.each(function() {
          var commentary = $(this).nextAll().detach();
          var commentarySection = $('<div class="section level3"></div>');
          commentarySection.append(commentary);
          commentarySection.insertAfter($(this).closest('div.section.level3'));
          $(this).remove();
        });
      }

      // force a non full screen layout by columns
      orientation = _options.orientation = 'columns';
      fillPage = _options.fillPage = false;
      storyboard = _options.storyboard = false;

    // media: desktop
    } else {

      // determine orientation
      orientation = page.attr('data-orientation');
      if (orientation !== 'rows' && orientation != 'columns')
        orientation = _options.orientation;

      // determine storyboard mode
      storyboard = page.hasClass('storyboard');

      // fillPage based on options (force for storyboard)
      fillPage = _options.fillPage || storyboard;

      // handle sidebar
      var sidebar = page.find('.section.level2.sidebar');
      if (sidebar.length > 0)
        layoutSidebar(sidebar, page);
    }

    // give it and it's parent divs height: 100% if we are in fillPage mode
    if (fillPage) {
      page.addClass('vertical-layout-fill');
      page.css('height', '100%');
      page.parents('div').css('height', '100%');
    } else {
      page.addClass('vertical-layout-scroll');
    }

    // perform the layout
    if (storyboard)
      layoutPageAsStoryboard(page);
    else if (orientation === 'rows')
      layoutPageByRows(page, fillPage);
    else if (orientation === 'columns')
      layoutPageByColumns(page, fillPage);
  }

  function layoutSidebar(sidebar, content) {

    // get it out of the header hierarchy
    sidebar = sidebar.first();
    if (sidebar.hasClass('level1')) {
      sidebar.removeClass('level1');
      sidebar.children('h1').remove();
    } else if (sidebar.hasClass('level2')) {
      sidebar.removeClass('level2');
      sidebar.children('h2').remove();
    }

    // determine width
    var sidebarWidth = isTablet() ? 220 : 250;
    var dataWidth = parseInt(sidebar.attr('data-width'));
    if (dataWidth)
      sidebarWidth = dataWidth;

    // set the width and shift the page right to accomodate the sidebar
    sidebar.css('width', sidebarWidth + 'px');
    content.css('padding-left', sidebarWidth + 'px');

    // wrap it's contents in a form
    sidebar.wrapInner($('<form></form>'));
  }

  function layoutPageAsStoryboard(page) {

    // create storyboard navigation
    var nav = $('<div class="storyboard-nav"></div>');

    // add navigation buttons
    var prev = $('<button class="sbprev"><i class="fa fa-angle-left"></i></button>');
    nav.append(prev);
    var next= $('<button class="sbnext"><i class="fa fa-angle-right"></i></button>');
    nav.append(next);

    // add navigation frame
    var frameList = $('<div class="sbframelist"></div>');
    nav.append(frameList);
    var ul = $('<ul></ul>');
    frameList.append(ul);

     // find all the level3 sections (those are the storyboard frames)
    var frames = page.find('div.section.level3');
    frames.each(function() {

      // mark it
      $(this).addClass('sbframe');

      // divide it into chart content and (optional) commentary
      $(this).addClass('dashboard-column-orientation');

      // stuff the chart into it's own div w/ flex
      $(this).wrapInner('<div class="sbframe-component"></div>');
      setFlex($(this), 1);
      var frame = $(this).children('.sbframe-component');

      // extract the title from the h3
      var li = $('<li></li>');
      var h3 = frame.children('h3');
      li.append(h3.contents());
      h3.detach();
      ul.append(li);

      // extract commentary
      var hr = frame.children('hr');
      if (hr.length) {
        var commentary = hr.nextAll().detach();
        hr.remove();
        var commentaryFrame = $('<div class="sbframe-commentary"></div>');
        commentaryFrame.addClass('flowing-content-shim');
        commentaryFrame.addClass('flowing-content-container');
        commentaryFrame.append(commentary);
        $(this).append(commentaryFrame);

        // look for a data-commentary-width attribute
        var commentaryWidth = $(this).attr('data-commentary-width');
        if (commentaryWidth)
          commentaryFrame.css('width', commentaryWidth + 'px');
      }

      // layout the chart (force flex)
      var result = layoutChart(frame, true);

      // ice the notes if there are none
      if (!result.notes)
        frame.find('.chart-notes').remove();

      // set flex on chart
      setFlex(frame, 1);
    });

    // create a div to hold all the frames
    var frameContent = $('<div class="sbframe-content"></div>');
    frameContent.addClass('dashboard-row-orientation');
    frameContent.append(frames.detach());

    // row orientation to stack nav and frame content
    page.addClass('dashboard-row-orientation');
    page.append(nav);
    page.append(frameContent);
    setFlex(frameContent, 1);

    // initialize sly
    var sly = new Sly(frameList, {
    		horizontal: true,
    		itemNav: 'basic',
    		smart: true,
    		activateOn: 'click',
    		startAt: 0,
    		scrollBy: 1,
    		activatePageOn: 'click',
    		speed: 200,
    		moveBy: 600,
    		dragHandle: true,
    		dynamicHandle: true,
    		clickBar: true,
    		keyboardNavBy: 'items',
    		next: next,
    		prev: prev
    	}).init();

    // make first frame active
    frames.removeClass('active');
    frames.first().addClass('active');

    // subscribe to frame changed events
    sly.on('active', function (eventName, itemIndex) {
      frames.removeClass('active');
      frames.eq(itemIndex).addClass('active')
                          .trigger('shown');
    });
  }

  function layoutPageByRows(page, fillPage) {

    // row orientation
    page.addClass('dashboard-row-orientation');

    // find all the level2 sections (those are the rows)
    var rows = page.find('div.section.level2');

    // if there are no level2 sections then treat the
    // entire page as if it's a level 2 section
    if (rows.length === 0) {
      page.wrapInner('<div class="section level2"></div>');
      rows = page.find('div.section.level2');
    }

    rows.each(function () {

      // flags
      var haveNotes = false;
      var haveFlexHeight = true;

      // remove the h2
      $(this).children('h2').remove();

      // check for a tabset
      var isTabset = $(this).hasClass('tabset');
      if (isTabset)
        layoutTabset($(this));

      // give it row layout semantics if it's not a tabset
      if (!isTabset)
        $(this).addClass('dashboard-row');

      // find all of the level 3 subheads
      var columns = $(this).find('div.section.level3');

      // determine figureSizes sizes
      var figureSizes = chartFigureSizes(columns);

      // fixup the columns
      columns.each(function(index) {

        // layout the chart (force flex if we are in a tabset)
        var result = layoutChart($(this), isTabset);

        // update flexHeight state
        if (!result.flex)
          haveFlexHeight = false;

        // update state
        if (result.notes)
          haveNotes = true;

        // set the column flex based on the figure width
        // (value boxes will just get the default figure width)
        var chartWidth = figureSizes[index].width;
        setFlex($(this), chartWidth + ' ' + chartWidth + ' 0px');

      });

      // remove empty chart note divs
      if (isTabset)
        $(this).find('.chart-notes').filter(function() {
            return $(this).html() === "&nbsp;";
        }).remove();
      if (!haveNotes)
        $(this).find('.chart-notes').remove();

       // make it a flexbox row
      if (haveFlexHeight)
        $(this).addClass('dashboard-row-flex');

      // now we can set the height on all the wrappers (based on maximum
      // figure height + room for title and notes, or data-height on the
      // container if specified). However, don't do this if there is
      // no flex on any of the constituent columns
      var flexHeight = null;
      var dataHeight = parseInt($(this).attr('data-height'));
      if (dataHeight)
        flexHeight = adjustedHeight(dataHeight, columns.first());
      else if (haveFlexHeight)
        flexHeight = maxChartHeight(figureSizes, columns);
      if (flexHeight) {
        if (fillPage)
          setFlex($(this), flexHeight + ' ' + flexHeight + ' 0px');
        else {
          $(this).css('height', flexHeight + 'px');
          setFlex($(this), '0 0 ' + flexHeight + 'px');
        }
      }

    });
  }

  function layoutPageByColumns(page, fillPage) {

    // column orientation
    page.addClass('dashboard-column-orientation');

    // find all the level2 sections (those are the columns)
    var columns = page.find('div.section.level2');

    // if there are no level2 sections then treat the
    // entire page as if it's a level 2 section
    if (columns.length === 0) {
      page.wrapInner('<div class="section level2"></div>');
      columns = page.find('div.section.level2');
    }

    // layout each column
    columns.each(function (index) {

      // remove the h2
      $(this).children('h2').remove();

      // make it a flexbox column
      $(this).addClass('dashboard-column');

      // check for a tabset
      var isTabset = $(this).hasClass('tabset');
      if (isTabset)
        layoutTabset($(this));

      // find all the h3 elements
      var rows = $(this).find('div.section.level3');

      // get the figure sizes for the rows
      var figureSizes = chartFigureSizes(rows);

      // column flex is the max row width (or data-width if specified)
      var flexWidth;
      var dataWidth = parseInt($(this).attr('data-width'));
      if (dataWidth)
        flexWidth = dataWidth;
      else
        flexWidth = maxChartWidth(figureSizes);
      setFlex($(this), flexWidth + ' ' + flexWidth + ' 0px');

      // layout each chart
      rows.each(function(index) {

        // perform the layout
        var result = layoutChart($(this), false);

        // ice the notes if there are none
        if (!result.notes)
          $(this).find('.chart-notes').remove();

        // set flex height based on figHeight, then adjust
        if (result.flex) {
          var chartHeight = figureSizes[index].height;
          chartHeight = adjustedHeight(chartHeight, $(this));
          if (fillPage)
            setFlex($(this), chartHeight + ' ' + chartHeight + ' 0px');
          else {
            $(this).css('height', chartHeight + 'px');
            setFlex($(this), chartHeight + ' ' + chartHeight + ' ' + chartHeight + 'px');
          }
        }
      });
    });
  }

  function chartFigureSizes(charts) {

    // sizes
    var figureSizes = new Array(charts.length);

    // check each chart
    charts.each(function(index) {

      // start with default
      figureSizes[index] = {
        width: _options.defaultFigWidth,
        height: _options.defaultFigHeight
      };

      // look for data-height or data-width then knit options
      var dataWidth = parseInt($(this).attr('data-width'));
      var dataHeight = parseInt($(this).attr('data-height'));
      var knitrOptions = $(this).find('.knitr-options:first');
      var knitrWidth, knitrHeight;
      if (knitrOptions) {
        knitrWidth = parseInt(knitrOptions.attr('data-fig-width'));
        knitrHeight =  parseInt(knitrOptions.attr('data-fig-height'));
      }

      // width
      if (dataWidth)
        figureSizes[index].width = dataWidth;
      else if (knitrWidth)
        figureSizes[index].width = knitrWidth;

      // height
      if (dataHeight)
        figureSizes[index].height = dataHeight;
      else if (knitrHeight)
        figureSizes[index].height = knitrHeight;
    });

    // return sizes
    return figureSizes;
  }

  function maxChartHeight(figureSizes, charts) {

    // first compute the maximum height
    var maxHeight = _options.defaultFigHeight;
    for (var i = 0; i<figureSizes.length; i++)
      if (figureSizes[i].height > maxHeight)
        maxHeight = figureSizes[i].height;

    // now add offests for chart title and chart notes
    if (charts.length)
      maxHeight = adjustedHeight(maxHeight, charts.first());

    return maxHeight;
  }

  function adjustedHeight(height, chart) {
    if (chart.length > 0) {
      var chartTitle = chart.find('.chart-title');
      if (chartTitle.length)
        height += chartTitle.first().outerHeight();
      var chartNotes = chart.find('.chart-notes');
      if (chartNotes.length)
        height += chartNotes.first().outerHeight();
    }
    return height;
  }

  function maxChartWidth(figureSizes) {
    var maxWidth = _options.defaultFigWidth;
    for (var i = 0; i<figureSizes.length; i++)
      if (figureSizes[i].width > maxWidth)
        maxWidth = figureSizes[i].width;
    return maxWidth;
  }

  // layout a chart
  function layoutChart(chart, forceFlex) {

    // state to return
    var result = {
      notes: false,
      flex: false
    };

    // extract the title
    var title = extractTitle(chart);

    // find components that apply to this container
    var components = componentsFind(chart);

    // if it's a custom component then call it and return
    var customComponents = componentsCustom(components);
    if (customComponents.length) {
      componentsLayout(customComponents, title, chart);
      result.notes = false;
      result.flex = forceFlex || componentsFlex(customComponents);
      return result;
    }

    // put all the content in a chart wrapper div
    chart.addClass('chart-wrapper');
    chart.wrapInner('<div class="chart-stage"></div>');
    var chartContent = chart.children('.chart-stage');

    // flex the content if appropriate
    result.flex = forceFlex || componentsFlex(components);
    if (result.flex) {
      // add flex classes
      chart.addClass('chart-wrapper-flex');
      chartContent.addClass('chart-stage-flex');

      // additional shim to break out of flexbox sizing
      chartContent.wrapInner('<div class="chart-shim"></div>');
      chartContent = chartContent.children('.chart-shim');
    }

    // set custom data-padding attribute
    var pad = chart.attr('data-padding');
    if (pad) {
      if (pad === "0")
        chart.addClass('no-padding');
      else {
        pad = pad + 'px';
        chartContent.css('left', pad)
                    .css('top', pad)
                    .css('right', pad)
                    .css('bottom', pad)
      }
    }

    // call compoents
    componentsLayout(components, title, chartContent);

    // also activate components on shiny output
    findShinyOutput(chartContent).on('shiny:value',
      function(event) {
        var element = $(event.target);
        setTimeout(function() {

          // see if we opted out of flex based on our output (for shiny
          // we can't tell what type of output we have until after the
          // value is bound)
          var components = componentsFind(element);
          var flex = forceFlex || componentsFlex(components);
          if (!flex) {
            chart.css('height', "");
            setFlex(chart, "");
            chart.removeClass('chart-wrapper-flex');
            chartContent.removeClass('chart-stage-flex');
            chartContent.children().unwrap();
          }

          // perform layout
          componentsLayout(components, title, element.parent());
        }, 10);
      });

    // add the title
    var chartTitle = $('<div class="chart-title"></div>');
    chartTitle.append(title);
    chart.prepend(chartTitle);

    // add the notes section
    var chartNotes = $('<div class="chart-notes"></div>');
    chartNotes.html('&nbsp;');
    chart.append(chartNotes);

    // attempt to extract notes if we have a component
    if (components.length)
      result.notes = extractChartNotes(chartContent, chartNotes);

    // return result
    return result;
  }

  // build a tabset from a section div with the .tabset class
  function layoutTabset(tabset) {

    // check for fade option
    var fade = tabset.hasClass("tabset-fade");
    var pills = tabset.hasClass("tabset-pills");
    var navClass = pills ? "nav-pills" : "nav-tabs";

    // determine the heading level of the tabset and tabs
    var match = tabset.attr('class').match(/level(\d) /);
    if (match === null)
      return;
    var tabsetLevel = Number(match[1]);
    var tabLevel = tabsetLevel + 1;

    // find all subheadings immediately below
    var tabs = tabset.find("div.section.level" + tabLevel);
    if (!tabs.length)
      return;

    // create tablist and tab-content elements
    var tabList = $('<ul class="nav ' + navClass + '" role="tablist"></ul>');
    $(tabs[0]).before(tabList);
    var tabContent = $('<div class="tab-content"></div>');
    $(tabs[0]).before(tabContent);

    // build the tabset
    var activeTab = 0;
    tabs.each(function(i) {

      // get the tab div
      var tab = $(tabs[i]);

      // get the id then sanitize it for use with bootstrap tabs
      var id = tab.attr('id');

      // see if this is marked as the active tab
      if (tab.hasClass('active'))
        activeTab = i;

      // sanitize the id for use with bootstrap tabs
      id = id.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_');
      tab.attr('id', id);

      // get the heading element within it and grab it's text
      var heading = tab.find('h' + tabLevel + ':first');
      var headingDom = heading.contents();

      // build and append the tab list item
      var a = $('<a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link"></a>');
      a.append(headingDom);
      a.attr('href', '#' + id);
      a.attr('aria-controls', id);
      var li = $('<li role="presentation" class="nav-item"></li>');
      li.append(a);
      tabList.append(li);

      // set it's attributes
      tab.attr('role', 'tabpanel');
      tab.addClass('tab-pane');
      tab.addClass('tabbed-pane');
      tab.addClass('no-title');
      if (fade)
        tab.addClass('fade');

      // move it into the tab content div
      tab.detach().appendTo(tabContent);
    });

    // set active tab
    $(tabList.children()[activeTab]).tab("show");
    var active = $(tabContent.children('div.section')[activeTab]);
    active.addClass('active');
    if (fade)
      active.addClass('in');

    // add nav-tabs-custom
    tabset.addClass('nav-tabs-custom');

    // internal layout is dashboard-column with tab-content flexing
    tabset.addClass('dashboard-column');
    setFlex(tabContent, 1);
  }

  // one time global initialization for components
  function componentsInit(dashboardContainer) {
    for (var i=0; i<window.FlexDashboardComponents.length; i++) {
      var component = window.FlexDashboardComponents[i];
      if (component.init)
        component.init(dashboardContainer);
    }
  }

  // find components that apply within a container
  function componentsFind(container) {

    // look for components
    var components = [];
    for (var i=0; i<window.FlexDashboardComponents.length; i++) {
      var component = window.FlexDashboardComponents[i];
      if (component.find(container).length)
        components.push(component);
    }

    // if there were none then use a special flowing content component
    // that just adds a scrollbar in fillPage mode
    if (components.length == 0) {
      components.push({
        find: function(container) {
          return container;
        },

        flex: function(fillPage) {
          return fillPage;
        },

        layout: function(title, container, element, fillPage) {
          if (fillPage) {
            container.addClass('flowing-content-shim');
            container.addClass('flowing-content-container');
          }
        }
      });
    }

    return components;
  }

  // if there is a custom component then pick it out
  function componentsCustom(components) {
    var customComponent = [];
    for (var i=0; i<components.length; i++)
      if (components[i].type === "custom") {
        customComponent.push(components[i]);
        break;
      }
    return customComponent;
  }

  // query all components for flex
  function componentsFlex(components) {

    // no components at all means no flex
    if (components.length === 0)
      return false;

    // otherwise query components (assume true unless we see false)
    var isMobile = isMobilePhone();
    for (var i=0; i<components.length; i++)
      if (components[i].flex && !components[i].flex(_options.fillPage))
        return false;
    return true;
  }

  // layout all components
  function componentsLayout(components, title, container) {
    var isMobile = isMobilePhone();
    for (var i=0; i<components.length; i++) {
      var element = components[i].find(container);
      if (components[i].layout) {
        // call layout (don't call other components if it returns false)
        var result = components[i].layout(title, container, element, _options.fillPage);
        if (result === false)
          return;
      }
    }
  }

  // get a reference to the h3, discover it's inner html, and remove it
  function extractTitle(container) {
    var h3 = container.children('h3').first();
    var title = '';
    if (!container.hasClass('no-title'))
      title = h3.contents();
    h3.detach();
    return title;
  }

  // extract chart notes
  function extractChartNotes(chartContent, chartNotes) {
    // look for a terminating blockquote or image caption
    var blockquote = chartContent.children('blockquote:last-child');
    var caption = chartContent.children('div.image-container')
                              .children('p.caption');
    if (blockquote.length) {
      chartNotes.empty().append(blockquote.children('p:first-child').contents());
      blockquote.remove();
      return true;
    } else if (caption.length) {
      chartNotes.empty().append(caption.contents());
      caption.remove();
      return true;
    } else {
      return false;
    }
  }

  function findShinyOutput(chartContent) {
    return chartContent.find('.shiny-text-output, .shiny-html-output');
  }

  // safely detect rendering on a mobile phone
  function isMobilePhone() {
    try
    {
      return ! window.matchMedia("only screen and (min-width: 768px)").matches;
    }
    catch(e) {
      return false;
    }
  }

  function isFillPage() {
    return _options.fillPage;
  }

  // detect portrait mode
  function isPortrait() {
    return ($(window).width() < $(window).height());
  }

  // safely detect rendering on a tablet
  function isTablet() {
    try
    {
      return window.matchMedia("only screen and (min-width: 769px) and (max-width: 992px)").matches;
    }
    catch(e) {
      return false;
    }
  }

  // test whether this is a shiny doc
  function isShinyDoc() {
    return (typeof(window.Shiny) !== "undefined" && !!window.Shiny.outputBindings);
  }

  // set flex using vendor specific prefixes
  function setFlex(el, flex) {
    el.css('-webkit-box-flex', flex)
      .css('-webkit-flex', flex)
      .css('-ms-flex', flex)
      .css('flex', flex);
  }

  // support bookmarking of pages
  function handleLocationHash() {

    // restore tab/page from bookmark
    var hash = window.decodeURIComponent(window.location.hash);
    if (hash.length > 0) {
      // Update the tab without .showPage() so that we don't change page history
      $('ul.nav a[href="' + hash + '"]').tab('show');
    }

    // navigate to a tab when the history changes
    window.addEventListener("popstate", function(e) {
      var hash = window.decodeURIComponent(window.location.hash);
      var activeTab = $('ul.nav a[href="' + hash + '"]');
      if (activeTab.length) {
        activeTab.tab('show');
      } else {
        // returning to the base page URL without a hash activates first tab
        $('ul.nav a:first').tab('show');
      }
    });

    // add a hash to the URL when the user clicks on a tab/page
    $('.navbar-nav a[data-toggle="tab"]').on('click', function(e) {
      var baseUrl = FlexDashboardUtils.urlWithoutHash(window.location.href);
      var hash = FlexDashboardUtils.urlHash($(this).attr('href'));
      var href = baseUrl + hash;
      FlexDashboardUtils.setLocation(href);
    });

    // handle clicks of other links that should activate pages
    var navPages = $('ul.navbar-nav li a[data-toggle=tab]');
    navPages.each(function() {
      var href =  $(this).attr('href');
      var links = $('a[href="' + href + '"][data-toggle!=tab]');
      links.each(function() {
        $(this).on('click', function(e) {
          window.FlexDashboardUtils.showPage(href);
        });
      });
    });
  }

  // tweak Prism highlighting
  function initPrismHighlighting() {

    if (window.Prism) {
      Prism.languages.insertBefore('r', 'comment', {
        'heading': [
          {
            // title 1
        	  // =======

        	  // title 2
        	  // -------
        	  pattern: /\w+.*(?:\r?\n|\r)(?:====+|----+)/,
            alias: 'operator'
          },
          {
            // ### title 3
            pattern: /(^\s*)###[^#].+/m,
            lookbehind: true,
            alias: 'operator'
          }
        ]
      });

      // prism highlight
      Prism.highlightAll();
    }
  }

  FlexDashboard.prototype = {
    constructor: FlexDashboard,
    init: init,
    isMobilePhone: isMobilePhone,
    isFillPage: isFillPage
  };

  return FlexDashboard;

})();

// utils
window.FlexDashboardUtils = {
  resizableImage: function(img) {
    var src = img.attr('src');
    var url = 'url("' + src + '")';
    img.parent().css('background', url)
                .css('background-size', 'contain')
                .css('background-repeat', 'no-repeat')
                .css('background-position', 'center')
                .addClass('image-container');
  },
  setLocation: function(href) {
    if (history && history.pushState) {
      history.pushState(null, null, href);
    } else {
      window.location.replace(href);
    }
    setTimeout(function() {
        window.scrollTo(0, 0);
    }, 10);
  },
  showPage: function(href) {
    $('ul.navbar-nav li a[href="' + href + '"]').tab('show');
    var baseUrl = this.urlWithoutHash(window.location.href);
    var loc = baseUrl + href;
    this.setLocation(loc);
  },
  showLinkedValue: function(href) {
    // check for a page link
    if ($('ul.navbar-nav li a[data-toggle=tab][href="' + href + '"]').length > 0)
      this.showPage(href);
    else
      window.open(href);
  },
  urlWithoutHash: function(url) {
    var hashLoc = url.indexOf('#');
    if (hashLoc != -1)
      return url.substring(0, hashLoc);
    else
      return url;
  },
  urlHash: function(url) {
    var hashLoc = url.indexOf('#');
    if (hashLoc != -1)
      return url.substring(hashLoc);
    else
      return "";
  }
};

window.FlexDashboard = new FlexDashboard();

// empty content
window.FlexDashboardComponents.push({
  find: function(container) {
    if (container.find('p').length == 0)
      return container;
    else
      return $();
  }
})

// plot image
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('p')
                    .children('img:only-child');
  },

  layout: function(title, container, element, fillPage) {
    FlexDashboardUtils.resizableImage(element);
  }
});

// plot image (figure style)
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('div.figure').children('img');
  },

  layout: function(title, container, element, fillPage) {
    FlexDashboardUtils.resizableImage(element);
  }
});

// htmlwidget
window.FlexDashboardComponents.push({

  init: function(dashboardContainer) {
    // trigger "shown" after initial layout to force static htmlwidgets
    // in runtime: shiny to be resized after the dom has been transformed
    dashboardContainer.on('flexdashboard:layoutcomplete', function(event) {
      setTimeout(function() {
        dashboardContainer.trigger('shown');
      }, 200);
    });
  },

  find: function(container) {
    return container.children('div[id^="htmlwidget-"],div.html-widget');
  }
});

// gauge
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('div.html-widget.gauge');
  },

  flex: function(fillPage) {
    return false;
  },

  layout: function(title, container, element, fillPage) {


  }

});

// shiny output
window.FlexDashboardComponents.push({
  find: function(container) {
    return container.children('div[class^="shiny-"]');
  }
});

// bootstrap table
window.FlexDashboardComponents.push({

  find: function(container) {
    var bsTable = container.find('table.table');
    if (bsTable.length !== 0)
      return bsTable;
    else
      return container.find('tr.header').parent('thead').parent('table');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {

    // alias variables
    var bsTable = element;

    // fixup xtable generated tables with a proper thead
    var headerRow = bsTable.find('tbody > tr:first-child > th').parent();
    if (headerRow.length > 0) {
      var thead = $('<thead></thead>');
      bsTable.prepend(thead);
      headerRow.detach().appendTo(thead);
    }

    // improve appearance
    container.addClass('bootstrap-table');

    // for fill page provide scrolling w/ sticky headers
    if (fillPage) {
      // force scrollbar on overflow
      container.addClass('flowing-content-shim');

      // stable table headers when scrolling
      bsTable.stickyTableHeaders({
        scrollableArea: container
      });
    }
  }
});

// embedded shiny app
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.find('iframe.shiny-frame');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {
    if (fillPage) {
      element.attr('height', '100%');
    } else {
      // provide default height if necessary
      var height = element.get(0).style.height;
      if (!height)
        height = element.attr('height');
      if (!height)
        element.attr('height', 500);
    }
  }
});

// shiny fillRow or fillCol
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.find('.flexfill-container');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {
    if (fillPage)
      element.css('height', '100%');
    else {
      // provide default height if necessary
      var height = element.get(0).style.height;
      if (height === "100%" || height === "auto" || height === "initial" ||
          height === "inherit" || !height) {
        element.css('height', 500);
      }
    }
  }
});

// valueBox
window.FlexDashboardComponents.push({

  type: "custom",

  find: function(container) {
    if (container.find('span.value-output, .shiny-valuebox-output').length)
      return container;
    else
      return $();
  },

  flex: function(fillPage) {
    return false;
  },

  layout: function(title, container, element, fillPage) {

    // alias variables
    var chartTitle = title;
    var valueBox = element;

    // add value-box class to container
    container.addClass('value-box');

    // value paragraph
    var value = $('<p class="value"></p>');

    // if we have shiny-text-output then just move it in
    var valueOutputSpan = [];
    var shinyOutput = valueBox.find('.shiny-valuebox-output').detach();
    if (shinyOutput.length) {
      valueBox.children().remove();
      shinyOutput.html("&mdash;");
      value.append(shinyOutput);
    } else {
      // extract the value (remove leading vector index)
      var chartValue = valueBox.text().trim();
      chartValue = chartValue.replace("[1] ", "");
      valueOutputSpan = valueBox.find('span.value-output').detach();
      valueBox.children().remove();
      value.text(chartValue);
    }

    // caption
    var caption = $('<p class="caption"></p>');
    caption.append(chartTitle);

    // build inner div for value box and add it
    var inner = $('<div class="inner"></div>');
    inner.append(value);
    inner.append(caption);
    valueBox.append(inner);

    // add icon if specified
    var icon = $('<div class="icon"><i></i></div>');
    valueBox.append(icon);
    function setIcon(chartIcon) {
      var iconLib = "";
      var iconSplit = chartIcon.split(" ");
      if (iconSplit.length > 1) {
        iconLib = iconSplit[0];
        chartIcon = iconSplit.slice(1).join(" ");
      } else {
        var components = chartIcon.split("-");
        if (components.length > 1)
          iconLib = components[0];
      }
      icon.children('i').attr('class', iconLib + ' ' + chartIcon);
    }
    var chartIcon = valueBox.attr('data-icon');
    if (chartIcon)
      setIcon(chartIcon);

    // handle data attributes in valueOutputSpan
    function handleValueOutput(valueOutput) {

      // caption
      var dataCaption = valueOutput.attr('data-caption');
      if (dataCaption)
        caption.html(dataCaption);

      // icon
      var dataIcon = valueOutput.attr('data-icon');
      if (dataIcon)
        setIcon(dataIcon);

      // If valueBox(color=) was an accent color, this attr should
      // be populated with the accent color and the relevant CSS comes
      // in through HTML dependencies
      var dataColorAccent = valueOutput.attr('data-color-accent');
      var valueBoxClasses = "value-box-" + (["primary", "info", "danger", "warning", "success"].join(" value-box-"));
      if (dataColorAccent) {
        valueBox.removeClass(valueBoxClasses);
        valueBox.addClass('value-box-' + dataColorAccent);
      }

      // If valueBox(color=) was a CSS color, these other data-color-*
      // attrs will be populated
      var dataColor = valueOutput.attr('data-color');
      if (dataColor) {
        valueBox.removeClass(valueBoxClasses);
        valueBox.css('background-color', dataColor);
      }
      var dataColorText = valueOutput.attr('data-color-text');
      if (dataColorText) {
        valueBox.find(".inner").css('color', dataColorText);
      }
      var dataColorIcon = valueOutput.attr('data-color-icon');
      if (dataColorIcon) {
        valueBox.find(".icon").css('color', dataColorIcon);
      }

      // url
      var dataHref = valueOutput.attr('data-href');
      if (dataHref) {
        valueBox.addClass('linked-value');
        valueBox.off('click.value-box');
        valueBox.on('click.value-box', function(e) {
          window.FlexDashboardUtils.showLinkedValue(dataHref);
        });
      }
    }

    // check for a valueOutputSpan
    if (valueOutputSpan.length > 0) {
      handleValueOutput(valueOutputSpan);
    }

    // if we have a shinyOutput then bind a listener to handle
    // new valueOutputSpan values
    shinyOutput.on('shiny:value',
      function(event) {
        var element = $(event.target);
        setTimeout(function() {
          var valueOutputSpan = element.find('span.value-output');
          if (valueOutputSpan.length > 0)
            handleValueOutput(valueOutputSpan);
        }, 10);
      }
    );
  }
});
</script>

<div id="dashboard-container" class="desktop-layout" style="height: 100%; visibility: visible;"><div class="tab-content" style="height: 100%;">

<div class="dashboard-page-wrapper tab-pane active" id="section-introducción" style="height: 100%;"><div class="section level1 vertical-layout-fill dashboard-column-orientation" style="height: 100%;"><div class="section level2 dashboard-column" style="flex: 576 576 0px;"><div class="section level3 chart-wrapper chart-wrapper-flex" style="flex: 471.8 471.8 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

<h1>
Motivación del trabajo
</h1>
<p>El trabajo se basa en un fichero <strong>csv</strong> extraído del
sitio web <em>KAGGLE</em> llamado
<strong>“sleep_health_lifestyle_dataset.csv”</strong>. El fichero de
datos consta de varias columnas, las cuales analizaremos en profundidad
más adelante, y entre las que consta una variable llamada <em>Sleep
Disorder</em> en la que veremos si el paciente presenta insomnio, apnea
del suño, o no presenta ninguna enfermedad. El resto de variables como
pueden ser la ocupación laboral del paciente, su sexo, índice de masa
corporal, u otros parámetros como los pasos diarios, la presión
arterial, las usaremos para en un primer lugar ver que tipo de relación
tienen con la variable objetivo <em>Sleep Disorder</em>, como cual es la
que mas le influye, y posteriormente para construir modelos intentando
predecir de la mejor manera si los pacientes presentan o no una
enfermedad del sueño.</p>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div></div></div></div></div></div>
<div class="dashboard-page-wrapper tab-pane" id="section-lectura-y-visualización-inicial" style="height: 100%;"><div class="section level1 vertical-layout-fill dashboard-column-orientation" data-navmenu="Tratamiento inicial" style="height: 100%;"><div class="section level2 dashboard-column" style="flex: 576 576 0px;"><div class="section level3 chart-wrapper chart-wrapper-flex" style="flex: 471.8 471.8 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

<p>Comienzo con la lectura de los datos desde el fichero csv:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p>A continuación pasaremos a una visualización del DataFrame para
hacernos un poco la idea las distintas variables que tiene, que trabajo
tendremos que acometer a lo largo del proyecto en cuestión de depuración
de datos si hiciera falta, que representaciones gráficas pudieran
resultar de interés.</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code># A tibble: 6 × 13
  `Person ID` Gender   Age Occupation    `Sleep Duration (hours)`
        &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;                            &lt;dbl&gt;
1           1 Male      29 Manual Labor                       7.4
2           2 Female    43 Retired                            4.2
3           3 Male      44 Retired                            6.1
4           4 Male      29 Office Worker                      8.3
5           5 Male      67 Retired                            9.1
6           6 Female    47 Student                            6.1
# ℹ 8 more variables: `Quality of Sleep (scale: 1-10)` &lt;dbl&gt;,
#   `Physical Activity Level (minutes/day)` &lt;dbl&gt;,
#   `Stress Level (scale: 1-10)` &lt;dbl&gt;, `BMI Category` &lt;chr&gt;,
#   `Blood Pressure (systolic/diastolic)` &lt;chr&gt;, `Heart Rate (bpm)` &lt;dbl&gt;,
#   `Daily Steps` &lt;dbl&gt;, `Sleep Disorder` &lt;chr&gt;</code></pre>
<p>Como podemos ver de un primer vistazo, nos encontramos con la primera
columna que es un id, y por lo tanto podemos prescindir de el tanto para
la visualización como para lo modelos. Posteriormente nos encontramos
variables como genero y edad cuyo estudio puede ser interesante si
mujeres u hombres sufren mas o menos enfermedades del sueño, o si estas
se ven afectadas por la franja de edad donde se encuentre la persona.
Luego una variable sobre el trabajo que desarrolla la persona que
también resulta interesante para los mismos estudios que antes. Tras
esto tenemos variables mas relacionadas con el sueño como el numero de
horas que duerme la persona o la calidad del sueño que seguro serán muy
importantes para la fase de los modelos. Continuando, nos encontramos
con una variable, la presión sanguínea que vemos que en una misma
variable agrupa dos informaciones, la presión baja y alta separadas por
una barra, por lo que como depuración tendremos que separar esta
variable en otras dos.</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>   Person ID        Gender               Age         Occupation       
 Min.   :  1.0   Length:400         Min.   :18.00   Length:400        
 1st Qu.:100.8   Class :character   1st Qu.:29.00   Class :character  
 Median :200.5   Mode  :character   Median :40.00   Mode  :character  
 Mean   :200.5                      Mean   :39.95                     
 3rd Qu.:300.2                      3rd Qu.:49.00                     
 Max.   :400.0                      Max.   :90.00                     
 Sleep Duration (hours) Quality of Sleep (scale: 1-10)
 Min.   : 4.100         Min.   : 1.000                
 1st Qu.: 5.900         1st Qu.: 4.700                
 Median : 8.200         Median : 6.100                
 Mean   : 8.041         Mean   : 6.126                
 3rd Qu.:10.125         3rd Qu.: 7.425                
 Max.   :12.000         Max.   :10.000                
 Physical Activity Level (minutes/day) Stress Level (scale: 1-10)
 Min.   : 10.00                        Min.   : 1.000            
 1st Qu.: 35.00                        1st Qu.: 3.000            
 Median : 65.50                        Median : 5.000            
 Mean   : 64.98                        Mean   : 5.473            
 3rd Qu.: 94.00                        3rd Qu.: 8.000            
 Max.   :120.00                        Max.   :10.000            
 BMI Category       Blood Pressure (systolic/diastolic) Heart Rate (bpm)
 Length:400         Length:400                          Min.   : 50.00  
 Class :character   Class :character                    1st Qu.: 63.00  
 Mode  :character   Mode  :character                    Median : 77.00  
                                                        Mean   : 75.99  
                                                        3rd Qu.: 90.00  
                                                        Max.   :100.00  
  Daily Steps    Sleep Disorder    
 Min.   : 2067   Length:400        
 1st Qu.: 6165   Class :character  
 Median :11786   Mode  :character  
 Mean   :11077                     
 3rd Qu.:15878                     
 Max.   :19958                     </code></pre>
<p>De esta manera vemos el tipo de datos que tiene cada variable por si
es necesario cambiarlo, junto con algunos datos interesantes de las
variables.</p>
</div></div></div></div></div></div>
<div class="dashboard-page-wrapper tab-pane" id="section-depuración-de-los-datos" style="height: 100%;"><div class="section level1 storyboard vertical-layout-fill dashboard-row-orientation" data-navmenu="Tratamiento inicial" style="height: 100%;">





<div class="storyboard-nav"><button class="sbprev disabled" disabled=""><i class="fa fa-angle-left"></i></button><button class="sbnext"><i class="fa fa-angle-right"></i></button><div class="sbframelist" style="overflow: hidden;"><ul style="transform: translateZ(0px); width: 1104px;"><li class="active">Eliminación variables que sobran</li><li>Cambiar tipo de las variables</li><li>Transformacion de la variable <em>Blood Pressure</em></li><li>Exportación de los datos</li></ul></div></div><div class="sbframe-content dashboard-row-orientation" style="flex: 1 1 1px;"><div id="section-eliminación-variables-que-sobran" class="section level3 sbframe dashboard-column-orientation active" style="flex: 1 1 1px;"><div class="sbframe-component chart-wrapper chart-wrapper-flex" style="flex: 1 1 1px;"><div class="chart-title"></div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

<p>Continuamos con la adecuación de los datos que nos proporciona el
DataFrame para poder representarlo gráficamente y construir modelos
adecuadamente.</p>
<p>Nuestro primer paso, como comentamos nada mas visualizar los datos es
eliminar la primera variable:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="sourceCode" id="section-cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb3-1"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb3-1" tabindex="-1"></a>datos <span class="sc">%&lt;&gt;%</span></span>
<span id="section-cb3-2"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb3-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="st">`</span><span class="at">Person ID</span><span class="st">`</span>)</span></code></pre></div>
</div></div></div></div><div id="section-cambiar-tipo-de-las-variables" class="section level3 sbframe dashboard-column-orientation" style="flex: 1 1 1px;"><div class="sbframe-component chart-wrapper chart-wrapper-flex" style="flex: 1 1 1px;"><div class="chart-title"></div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

<p><strong>Variable Gender</strong></p>
<p>Vemos los niveles de la variable género:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>  Male Female 
   199    201 </code></pre>
<p><strong>Variable BMI Category</strong></p>
<p>Vemos los niveles de la variable índice de masa corporal:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="sourceCode" id="section-cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb5-1"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb5-1" tabindex="-1"></a>datos<span class="sc">$</span><span class="st">`</span><span class="at">BMI Category</span><span class="st">`</span> <span class="ot">&lt;-</span> datos <span class="sc">%$%</span></span>
<span id="section-cb5-2"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb5-2" tabindex="-1"></a>  <span class="st">`</span><span class="at">BMI Category</span><span class="st">`</span> <span class="sc">%&gt;%</span></span>
<span id="section-cb5-3"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb5-3" tabindex="-1"></a>  <span class="fu">as.factor</span>()</span>
<span id="section-cb5-4"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb5-4" tabindex="-1"></a><span class="fu">summary</span>(datos<span class="sc">$</span><span class="st">`</span><span class="at">BMI Category</span><span class="st">`</span>)</span></code></pre></div>
<pre><code>     Normal       Obese  Overweight Underweight 
         91          98         109         102 </code></pre>
<p><strong>Variable Occupation</strong></p>
<p>Vemos los niveles de la variable ocupación laboral:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="sourceCode" id="section-cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb7-1"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb7-1" tabindex="-1"></a>datos<span class="sc">$</span>Occupation <span class="ot">&lt;-</span> datos <span class="sc">%$%</span></span>
<span id="section-cb7-2"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb7-2" tabindex="-1"></a>  Occupation <span class="sc">%&gt;%</span></span>
<span id="section-cb7-3"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb7-3" tabindex="-1"></a>  <span class="fu">as.factor</span>()</span>
<span id="section-cb7-4"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb7-4" tabindex="-1"></a><span class="fu">summary</span>(datos<span class="sc">$</span>Occupation)</span></code></pre></div>
<pre><code> Manual Labor Office Worker       Retired       Student 
           96            99            95           110 </code></pre>
<p><strong>Variable Sleep Disorder</strong></p>
<p>Vemos los niveles de la variable objetivo desorden del sueño:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="sourceCode" id="section-cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb9-1"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb9-1" tabindex="-1"></a>datos<span class="sc">$</span><span class="st">`</span><span class="at">Sleep Disorder</span><span class="st">`</span> <span class="ot">&lt;-</span> datos <span class="sc">%$%</span></span>
<span id="section-cb9-2"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb9-2" tabindex="-1"></a>  <span class="st">`</span><span class="at">Sleep Disorder</span><span class="st">`</span> <span class="sc">%&gt;%</span></span>
<span id="section-cb9-3"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb9-3" tabindex="-1"></a>  <span class="fu">as.factor</span>()</span>
<span id="section-cb9-4"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb9-4" tabindex="-1"></a><span class="fu">summary</span>(datos<span class="sc">$</span><span class="st">`</span><span class="at">Sleep Disorder</span><span class="st">`</span>)</span></code></pre></div>
<pre><code>   Insomnia        None Sleep Apnea 
         79         290          31 </code></pre>
</div></div></div></div><div id="section-transformacion-de-la-variable-blood-pressure" class="section level3 sbframe dashboard-column-orientation" style="flex: 1 1 1px;"><div class="sbframe-component chart-wrapper chart-wrapper-flex" style="flex: 1 1 1px;"><div class="chart-title"></div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

<p>A continuación pasamos a cambiar la variable Blood Pressure. Como
hemos comentado al comienzo, esta variable contiene la presión alta y
baja en una sola y separada por la barra “/”. Lo que haremos es dividir
esta variable en otras dos que ya renombraremos separando por esa
barra.</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="sourceCode" id="section-cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb11-1"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb11-1" tabindex="-1"></a><span class="co"># datos %$%</span></span>
<span id="section-cb11-2"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb11-2" tabindex="-1"></a><span class="co">#   `Blood Pressure (systolic/diastolic)` %&gt;%</span></span>
<span id="section-cb11-3"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb11-3" tabindex="-1"></a><span class="co">#   str_split(.,pattern="/",simplify = T) </span></span></code></pre></div>
<p>Así tendríamos dividida la variable en dos columnas, una con la
presión alta (la primera) y la otra con la presión baja. Pasamos a
guardar cada una como variables y a eliminar esa variable que no nos
sirve, haciendo todo el proceso de continuo.</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="sourceCode" id="section-cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb12-1"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb12-1" tabindex="-1"></a>Press_High <span class="ot">&lt;-</span> datos <span class="sc">%$%</span></span>
<span id="section-cb12-2"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb12-2" tabindex="-1"></a>  <span class="st">`</span><span class="at">Blood Pressure (systolic/diastolic)</span><span class="st">`</span> <span class="sc">%&gt;%</span></span>
<span id="section-cb12-3"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb12-3" tabindex="-1"></a>  <span class="fu">str_split</span>(.,<span class="at">pattern=</span><span class="st">"/"</span>,<span class="at">simplify =</span> T) <span class="sc">%&gt;%</span></span>
<span id="section-cb12-4"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb12-4" tabindex="-1"></a>  .[,<span class="dv">1</span>] <span class="sc">%&gt;%</span></span>
<span id="section-cb12-5"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb12-5" tabindex="-1"></a>  <span class="fu">as.numeric</span>()</span>
<span id="section-cb12-6"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb12-6" tabindex="-1"></a>Press_Low <span class="ot">&lt;-</span> datos <span class="sc">%$%</span></span>
<span id="section-cb12-7"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb12-7" tabindex="-1"></a>  <span class="st">`</span><span class="at">Blood Pressure (systolic/diastolic)</span><span class="st">`</span> <span class="sc">%&gt;%</span></span>
<span id="section-cb12-8"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb12-8" tabindex="-1"></a>  <span class="fu">str_split</span>(.,<span class="at">pattern=</span><span class="st">"/"</span>,<span class="at">simplify =</span> T) <span class="sc">%&gt;%</span></span>
<span id="section-cb12-9"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb12-9" tabindex="-1"></a>  .[,<span class="dv">2</span>] <span class="sc">%&gt;%</span></span>
<span id="section-cb12-10"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb12-10" tabindex="-1"></a>  <span class="fu">as.numeric</span>()</span>
<span id="section-cb12-11"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb12-11" tabindex="-1"></a>datos<span class="sc">$</span>Press_High <span class="ot">&lt;-</span> Press_High</span>
<span id="section-cb12-12"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb12-12" tabindex="-1"></a>datos<span class="sc">$</span>Press_Low <span class="ot">&lt;-</span> Press_Low</span></code></pre></div>
<p>Ahora solo nos queda eliminar la columna que hemos transformado, y
ver el resultado:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>    Gender         Age                Occupation  Sleep Duration (hours)
 Male  :199   Min.   :18.00   Manual Labor : 96   Min.   : 4.100        
 Female:201   1st Qu.:29.00   Office Worker: 99   1st Qu.: 5.900        
              Median :40.00   Retired      : 95   Median : 8.200        
              Mean   :39.95   Student      :110   Mean   : 8.041        
              3rd Qu.:49.00                       3rd Qu.:10.125        
              Max.   :90.00                       Max.   :12.000        
 Quality of Sleep (scale: 1-10) Physical Activity Level (minutes/day)
 Min.   : 1.000                 Min.   : 10.00                       
 1st Qu.: 4.700                 1st Qu.: 35.00                       
 Median : 6.100                 Median : 65.50                       
 Mean   : 6.126                 Mean   : 64.98                       
 3rd Qu.: 7.425                 3rd Qu.: 94.00                       
 Max.   :10.000                 Max.   :120.00                       
 Stress Level (scale: 1-10)      BMI Category Heart Rate (bpm)  Daily Steps   
 Min.   : 1.000             Normal     : 91   Min.   : 50.00   Min.   : 2067  
 1st Qu.: 3.000             Obese      : 98   1st Qu.: 63.00   1st Qu.: 6165  
 Median : 5.000             Overweight :109   Median : 77.00   Median :11786  
 Mean   : 5.473             Underweight:102   Mean   : 75.99   Mean   :11077  
 3rd Qu.: 8.000                               3rd Qu.: 90.00   3rd Qu.:15878  
 Max.   :10.000                               Max.   :100.00   Max.   :19958  
     Sleep Disorder   Press_High      Press_Low    
 Insomnia   : 79    Min.   :109.0   Min.   :60.00  
 None       :290    1st Qu.:115.0   1st Qu.:66.00  
 Sleep Apnea: 31    Median :122.0   Median :73.00  
                    Mean   :122.2   Mean   :73.04  
                    3rd Qu.:128.0   3rd Qu.:79.00  
                    Max.   :145.0   Max.   :96.00  </code></pre>
<p>De esta manera ya tenemos todas las variables de manera adecuada para
la representación gráfica de estudios que nos interesen para una
posterior construcción de modelos.</p>
</div></div></div></div><div id="section-exportación-de-los-datos" class="section level3 sbframe dashboard-column-orientation" style="flex: 1 1 1px;"><div class="sbframe-component chart-wrapper chart-wrapper-flex" style="flex: 1 1 1px;"><div class="chart-title"></div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

<p>Antes de terminar exportamos en un fichero nuevo los datos depurados
para posibles consultas. Recordamos que para exportarlos, los datos que
están convertidos a factor debemos pasarlos a tipo
<em>character</em>:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="sourceCode" id="section-cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="section-cb14-1"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb14-1" tabindex="-1"></a>datos2 <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span></span>
<span id="section-cb14-2"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb14-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.factor),as.character))</span>
<span id="section-cb14-3"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb14-3" tabindex="-1"></a>datos2[datos2<span class="sc">$</span><span class="st">`</span><span class="at">Sleep Disorder</span><span class="st">`</span><span class="sc">==</span><span class="st">"None"</span>,<span class="st">"Sleep Disorder"</span>]<span class="ot">=</span><span class="st">"No enfermedad"</span></span>
<span id="section-cb14-4"><a href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-cb14-4" tabindex="-1"></a><span class="fu">write_csv</span>(<span class="at">x =</span> datos2,<span class="at">file =</span> <span class="st">"Datos_depurados.csv"</span>,<span class="at">col_names =</span> T)</span></code></pre></div>
</div></div></div></div></div></div></div>
<div class="dashboard-page-wrapper tab-pane" id="section-presion-arterial-alta-y-baja" style="height: 100%;"><h2>
Influencia de la presión arterial
</h2><div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p><img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-14-1.png" width="360" data-figure-id="fig1"></p>
</div><p>En esta primera gráfica comparamos la presión alta y la presión baja
en función del tipo de enfermedad del sueño que tenga la persona. Una
vez hecha la representación no podemos inferir gran cosa a partir del
gráfico, puesto que todas las enfermedades están mas o menos igualmente
representadas para valores similares de presión arterial</p><div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p><img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-15-1.png" width="360" data-figure-id="fig2"></p>
</div><p>Como podemos observar las linea que interpola cada conjunto de puntos
en función de la clase de enfermedad del sueño que tenga es muy similar.
Y hay que recalcar que los intervalos de confianza se cortan por lo que
podemos descartar que estas variables nos sirvan para identificar que
tipo de enfermedad posee la persona.</p><div class="section level1 vertical-layout-fill dashboard-column-orientation" data-navmenu="Estudio de influencia en la variable objetivo" style="height: 100%;"><div class="section level2 dashboard-column" style="flex: 576 576 0px;">






</div></div></div>
<div class="dashboard-page-wrapper tab-pane" id="section-pulsaciones-por-minuto" style="height: 100%;"><h2>
Influencia de las pulsaciones
</h2><div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p><img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-16-1.png" width="360" data-figure-id="fig3"></p>
</div><p>Al igual que en el caso anterior parece que vuelven a ser muy
similares las pulsaciones independientemente de la enfermedad que
presente el individuo. Lo único que podríamos destacar es que los
individuos con apnea del sueño la tienen algo mas alta.</p><div class="section level1 vertical-layout-fill dashboard-column-orientation" data-navmenu="Estudio de influencia en la variable objetivo" style="height: 100%;"><div class="section level2 dashboard-column" style="flex: 576 576 0px;">




</div></div></div>
<div class="dashboard-page-wrapper tab-pane" id="section-índice-de-masa-corporal" style="height: 100%;"><h2>
Influencia del BMI
</h2><div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p><img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-17-1.png" width="360" data-figure-id="fig4"></p>
</div><p>En esta gráfica si que parece que podemos sacar alguna que otra
conclusión mas: en el caso de las personas que sufren insomnio, hay una
mayor proporción de personas que están demasiado delgados; en el caso de
las personas que no sufren ninguna enfermedad (que son la mayoría de
ellas), parece que hay mayor proporción en personas que sufren
sobrepeso. Por otro lado de las personas que sufren apnea del sueño
parece que tienen igual proporción.</p><div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p><img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-18-1.png" width="360" data-figure-id="fig5"></p>
</div><p>Con esta gráfica podemos ver mas claro el diagrama anterior. Se hace
notar mas que las personas con un indice de masa normal están
representadas en menor proporción en el conjunto de personas sin
enfermedad del sueño</p><div class="section level1 vertical-layout-fill dashboard-column-orientation" data-navmenu="Estudio de influencia en la variable objetivo" style="height: 100%;"><div class="section level2 dashboard-column" style="flex: 576 576 0px;">






</div></div></div>
<div class="dashboard-page-wrapper tab-pane" id="section-ocupación-laboral-y-nivel-de-estrés" style="height: 100%;"><h2>
Influencia conjunta de ambas variables
</h2><div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p><img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-19-1.png" width="360" data-figure-id="fig6"></p>
</div><p>En este gráfico comparamos por la ocupación que tienen las personas y
su enfermedad, o ausencia de ella, el nivel de estrés que dicen tener
por si esto pudiera tener un comportamiento específico. Por ejemplo,
para las personas que trabajan en labores manuales, los que sufren apnea
del sueño son los que en mayor proporción tienen altos niveles de
estrés. Lo mismo ocurre para el caso de los estudiantes, que en gran
proporción los que dicen sufrir niveles altos de estrés sufren apnea del
sueño. En cambio, las personas que sufren insomnio, en cualquier
ocupación laboral, parece que se encuentran en mayor porcentaje en
niveles de estrés bajos, mientras que las personas que no sufren ninguna
enfermedad del sueño parecen estar repartidos los porcentajes entre los
distintos niveles de estrés para cualquier ocupación.</p><div class="section level1 vertical-layout-fill dashboard-column-orientation" data-navmenu="Estudio de influencia en la variable objetivo" style="height: 100%;"><div class="section level2 dashboard-column" style="flex: 576 576 0px;">




</div></div></div>
<div class="dashboard-page-wrapper tab-pane" id="section-actividad-física-y-duración-del-sueño" style="height: 100%;"><h2>
Influencia conjunta de ambas variables
</h2><div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p><img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-20-1.png" width="360" data-figure-id="fig7"></p>
</div><p>Volvemos a encontrarnos una situación en la que no podemos sacar
demasiadas conclusiones puesto que no se observa un patrón en los datos.
Lo mas reseñable es que la mayoría de puntos de personas con apnea del
sueño tienen una calidad del sueño intermedio, ni valores muy altos ni
muy bajos. Vamos a realizar una curva de regresión con su intervalo de
confianza para asegurarnos de este patrón</p><div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p><img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-21-1.png" width="360" data-figure-id="fig8"></p>
</div><p>Vemos que parece que estábamos en lo cierto que no podemos sacar
conclusiones puesto que los tres intervalos de confianza se cortan y por
tanto no podemos inferir que con una calidad del sueño mejor o pero o
mas o menos horas de sueño pueda referirse a una persona con una
determinada enfermedad del sueño.</p><div class="section level1 vertical-layout-fill dashboard-column-orientation" data-navmenu="Estudio de influencia en la variable objetivo" style="height: 100%;"><div class="section level2 dashboard-column" style="flex: 576 576 0px;">






</div></div></div>
<div class="dashboard-page-wrapper tab-pane" id="section-división-y-preparación-del-conjunto-de-datos" style="height: 100%;"><div class="section level1 vertical-layout-fill dashboard-column-orientation" data-navmenu="Modelado de datos" style="height: 100%;"><div class="section level2 dashboard-column" style="flex: 576 576 0px;"><div class="section level3 chart-wrapper chart-wrapper-flex" style="flex: 471.8 471.8 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

<p>A partir de este instante trabajamos con python.</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p>Leemos y vemos una breve descripción de los datos para ver que no ha
habido ningún problema:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 400 entries, 0 to 399
Data columns (total 13 columns):
 #   Column                                 Non-Null Count  Dtype  
---  ------                                 --------------  -----  
 0   Gender                                 400 non-null    object 
 1   Age                                    400 non-null    int64  
 2   Occupation                             400 non-null    object 
 3   Sleep Duration (hours)                 400 non-null    float64
 4   Quality of Sleep (scale: 1-10)         400 non-null    float64
 5   Physical Activity Level (minutes/day)  400 non-null    int64  
 6   Stress Level (scale: 1-10)             400 non-null    int64  
 7   BMI Category                           400 non-null    object 
 8   Heart Rate (bpm)                       400 non-null    int64  
 9   Daily Steps                            400 non-null    int64  
 10  Sleep Disorder                         400 non-null    object 
 11  Press_High                             400 non-null    int64  
 12  Press_Low                              400 non-null    int64  
dtypes: float64(2), int64(7), object(4)
memory usage: 40.8+ KB</code></pre>
<p>En las anteriores secciones nos hemos dado cuenta que hay muchos mas
pacientes sin enfermedad que con apnea o insomnio. Veamos en términos
porcentuales:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>Sleep Disorder
No enfermedad    0.7250
Insomnia         0.1975
Sleep Apnea      0.0775
Name: proportion, dtype: float64</code></pre>
<p>Vamos a balancear los datos, puestos que la diferencia de cantidad de
cada clase es demasiado grande, y tenemos pocos datos:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>(290, 13)</code></pre>
<pre><code>(79, 13)</code></pre>
<pre><code>(31, 13)</code></pre>
<p>Vemos cuantos datos hay, para cada uno de los niveles de la variable
(no enfermedad, insomnio y apnea del sueño). Realizamos upsampling y
vemos cuantos datos obtenemos al final:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>(290, 13)</code></pre>
<pre><code>(290, 13)</code></pre>
<p>Y ya solo concatenamos los datos creando nuestro dataset
balanceado:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>Sleep Disorder
No enfermedad    0.333333
Insomnia         0.333333
Sleep Apnea      0.333333
Name: proportion, dtype: float64</code></pre>
<p>Vemos que ya tenemos el mismo numero de individuos en cada clase.</p>
<p>Dividimos los datos entre nuestra variable objetivo, y las que usamos
de predictoras:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p>Particionamos los datos en entrenamiento y test para la construcción
de los modelos, teniendo en cuenta que tenemos que mantener esta
proporción. Dejamos únicamente un 25% de los datos destinado al conjunto
test.</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p>Dividimos las variables predictoras en las que son numéricas y las
que son categóricas:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Index: 652 entries, 156 to 270
Data columns (total 3 columns):
 #   Column        Non-Null Count  Dtype 
---  ------        --------------  ----- 
 0   Gender        652 non-null    object
 1   Occupation    652 non-null    object
 2   BMI Category  652 non-null    object
dtypes: object(3)
memory usage: 20.4+ KB</code></pre>
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Index: 652 entries, 156 to 270
Data columns (total 9 columns):
 #   Column                                 Non-Null Count  Dtype  
---  ------                                 --------------  -----  
 0   Age                                    652 non-null    int64  
 1   Sleep Duration (hours)                 652 non-null    float64
 2   Quality of Sleep (scale: 1-10)         652 non-null    float64
 3   Physical Activity Level (minutes/day)  652 non-null    int64  
 4   Stress Level (scale: 1-10)             652 non-null    int64  
 5   Heart Rate (bpm)                       652 non-null    int64  
 6   Daily Steps                            652 non-null    int64  
 7   Press_High                             652 non-null    int64  
 8   Press_Low                              652 non-null    int64  
dtypes: float64(2), int64(7)
memory usage: 50.9 KB</code></pre>
<p>Ahora construimos nuestro <em>pipeline</em> para transformar los
datos. Como en el apartado de visualización no hemos visto que haya
ninguna variable que podamos decir que separa a nuestra variable
objetivo hacemos un análisis en componentes principales, para ver si
reduciendo la dimensionalidad de los datos lo obtenemos de una mejor
manera:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p>Ya tenemos los conjuntos de entrenamiento y test listos para crear
los modelos y ver el rendimiento de los mismos.</p>
</div></div></div></div></div></div>
<div class="dashboard-page-wrapper tab-pane" id="section-modelo-naive-bayes" style="height: 100%;"><div class="section level1 vertical-layout-fill dashboard-column-orientation" data-navmenu="Modelado de datos" style="height: 100%;">

<div id="section-columna" class="section level2 dashboard-column" data-width="1" style="flex: 1 1 0px;">

<div id="section-modelo" class="section level3 chart-wrapper chart-wrapper-flex" style="flex: 491.8 491.8 0px;"><div class="chart-title">Modelo</div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

<p>Una vez construimos el modelo pasamos a ver su efectividad comparando
el resultado de pasar el conjunto test por el modelo con el verdadero
valor de la variable objetivo:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<style>#sk-container-id-31 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-31 {
  color: var(--sklearn-color-text);
}

#sk-container-id-31 pre {
  padding: 0;
}

#sk-container-id-31 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-31 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-31 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-31 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-31 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-31 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-31 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-31 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-31 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-31 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-31 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-31 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-31 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-31 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-31 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "▸";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-31 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-31 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-31 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-31 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-31 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-31 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-31 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "▾";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-31 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-31 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-31 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-31 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-31 div.sk-label label.sk-toggleable__label,
#sk-container-id-31 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-31 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-31 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-31 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-31 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-31 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-31 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-31 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-31 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-31 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-31 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-31 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-31 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div id="sk-container-id-31" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>GaussianNB()</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually shiny-bound-input" id="sk-estimator-id-79" type="checkbox" checked=""><label for="sk-estimator-id-79" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>GaussianNB</div></div><div><a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.6/modules/generated/sklearn.naive_bayes.GaussianNB.html">?<span>Documentation for GaussianNB</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>GaussianNB()</pre></div> </div></div></div></div>
</div></div></div>
</div>
<div id="section-columna-1" class="section level2 tabset dashboard-column nav-tabs-custom" data-width="2" style="flex: 2 2 0px;">

<ul class="nav nav-tabs" role="tablist"><li role="presentation" class="nav-item active"><a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-m%C3%A9tricas-del-modelo" aria-controls="section-métricas-del-modelo" aria-expanded="true">Métricas del modelo</a></li><li role="presentation" class="nav-item"><a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-matriz-de-confusi%C3%B3n" aria-controls="section-matriz-de-confusión">Matriz de confusión</a></li><li role="presentation" class="nav-item"><a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-frontera-de-separaci%C3%B3n" aria-controls="section-frontera-de-separación">Frontera de separación</a></li></ul><div class="tab-content" style="flex: 1 1 1px;"><div id="section-métricas-del-modelo" class="section level3 tab-pane tabbed-pane no-title active chart-wrapper chart-wrapper-flex" role="tabpanel" style="flex: 471.8 471.8 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim">

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>               precision    recall  f1-score   support

     Insomnia       0.41      0.32      0.36        72
No enfermedad       0.28      0.34      0.31        73
  Sleep Apnea       0.38      0.38      0.38        73

     accuracy                           0.35       218
    macro avg       0.36      0.35      0.35       218
 weighted avg       0.36      0.35      0.35       218</code></pre>
</div></div></div><div id="section-matriz-de-confusión" class="section level3 tab-pane tabbed-pane no-title chart-wrapper chart-wrapper-flex" role="tabpanel" style="flex: 460 460 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim">

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>&lt;sklearn.metrics._plot.confusion_matrix.ConfusionMatrixDisplay object at 0x0000029BF22C8A90&gt;</code></pre>
<p class="image-container" style="background: url(&quot;Trabajo_final_files/figure-html/unnamed-chunk-34-1.png&quot;) center center / contain no-repeat;"><img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-34-1.png" width="360" data-figure-id="fig9"></p>
</div></div></div><div id="section-frontera-de-separación" class="section level3 tab-pane tabbed-pane no-title chart-wrapper chart-wrapper-flex" role="tabpanel" style="flex: 460 460 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim">

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p class="image-container" style="background: url(&quot;Trabajo_final_files/figure-html/unnamed-chunk-36-3.png&quot;) center center / contain no-repeat;"><img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-36-3.png" width="768" data-figure-id="fig9"></p>
</div></div></div></div>


</div>
<div id="section-columna-2" class="section level2 dashboard-column" data-width="1" style="flex: 1 1 0px;">

<div id="section-conclusiones" class="section level3 chart-wrapper chart-wrapper-flex" style="flex: 491.8 491.8 0px;"><div class="chart-title">Conclusiones</div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

<p>Podemos ver que el rendimiento de nuestro modelo es en general malo,
pues no detecta de manera correcta ninguno de los niveles. Viendo
representada la matriz de confusión, como sospechábamos no suele
clasificar bien a los sujetos, tiene poca precisión. Representando la
frontera de decisión vemos que con este modelo no conseguimos separar
bien los datos.</p>
</div></div></div>
</div>
</div></div>
<div class="dashboard-page-wrapper tab-pane" id="section-modelo-random-forest" style="height: 100%;"><div class="section level1 vertical-layout-fill dashboard-column-orientation" data-navmenu="Modelado de datos" style="height: 100%;">

<div id="section-columna-3" class="section level2 dashboard-column" data-width="1" style="flex: 1 1 0px;">

<div id="section-modelo-1" class="section level3 chart-wrapper chart-wrapper-flex" style="flex: 491.8 491.8 0px;"><div class="chart-title">Modelo</div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

Aplicamos una malla para hallar los mejores hiperparámetros:
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<style>#sk-container-id-32 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-32 {
  color: var(--sklearn-color-text);
}

#sk-container-id-32 pre {
  padding: 0;
}

#sk-container-id-32 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-32 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-32 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-32 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-32 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-32 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-32 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-32 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-32 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-32 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-32 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-32 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-32 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-32 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-32 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "▸";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-32 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-32 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-32 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-32 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-32 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-32 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-32 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "▾";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-32 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-32 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-32 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-32 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-32 div.sk-label label.sk-toggleable__label,
#sk-container-id-32 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-32 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-32 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-32 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-32 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-32 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-32 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-32 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-32 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-32 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-32 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-32 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-32 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div id="sk-container-id-32" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>GridSearchCV(cv=5, estimator=RandomForestClassifier(random_state=47563),
             param_grid=[{'max_features': [2, 4, 6, 8],
                          'n_estimators': [3, 5, 7, 9]},
                         {'bootstrap': [True], 'max_features': [5],
                          'n_estimators': [5]}],
             return_train_score=True, scoring='neg_log_loss')</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item sk-dashed-wrapped"><div class="sk-label-container"><div class="sk-label fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually shiny-bound-input" id="sk-estimator-id-80" type="checkbox"><label for="sk-estimator-id-80" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>GridSearchCV</div></div><div><a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.6/modules/generated/sklearn.model_selection.GridSearchCV.html">?<span>Documentation for GridSearchCV</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>GridSearchCV(cv=5, estimator=RandomForestClassifier(random_state=47563),
             param_grid=[{'max_features': [2, 4, 6, 8],
                          'n_estimators': [3, 5, 7, 9]},
                         {'bootstrap': [True], 'max_features': [5],
                          'n_estimators': [5]}],
             return_train_score=True, scoring='neg_log_loss')</pre></div> </div></div><div class="sk-parallel"><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually shiny-bound-input" id="sk-estimator-id-81" type="checkbox"><label for="sk-estimator-id-81" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>best_estimator_: RandomForestClassifier</div></div></label><div class="sk-toggleable__content fitted"><pre>RandomForestClassifier(max_features=2, n_estimators=9, random_state=47563)</pre></div> </div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually shiny-bound-input" id="sk-estimator-id-82" type="checkbox"><label for="sk-estimator-id-82" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>RandomForestClassifier</div></div><div><a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.6/modules/generated/sklearn.ensemble.RandomForestClassifier.html">?<span>Documentation for RandomForestClassifier</span></a></div></label><div class="sk-toggleable__content fitted"><pre>RandomForestClassifier(max_features=2, n_estimators=9, random_state=47563)</pre></div> </div></div></div></div></div></div></div></div></div>
<p>Vemos ahora cuales son los mejores valores de hiperparámetros y por
tanto cuál es el mejor modelo de Random Forest:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>RandomForestClassifier(max_features=2, n_estimators=9, random_state=47563)</code></pre>
</div></div></div>
</div>
<div id="section-columna-4" class="section level2 tabset dashboard-column nav-tabs-custom" data-width="2" style="flex: 2 2 0px;">

<ul class="nav nav-tabs" role="tablist"><li role="presentation" class="nav-item active"><a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-m%C3%A9tricas-del-modelo-1" aria-controls="section-métricas-del-modelo-1" aria-expanded="true">Métricas del modelo</a></li><li role="presentation" class="nav-item"><a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-matriz-de-confusi%C3%B3n-1" aria-controls="section-matriz-de-confusión-1">Matriz de confusión</a></li><li role="presentation" class="nav-item"><a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-frontera-de-separaci%C3%B3n-1" aria-controls="section-frontera-de-separación-1">Frontera de separación</a></li></ul><div class="tab-content" style="flex: 1 1 1px;"><div id="section-métricas-del-modelo-1" class="section level3 tab-pane tabbed-pane no-title active chart-wrapper chart-wrapper-flex" role="tabpanel" style="flex: 471.8 471.8 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim">

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>               precision    recall  f1-score   support

     Insomnia       0.81      0.96      0.88        72
No enfermedad       0.94      0.68      0.79        73
  Sleep Apnea       0.91      1.00      0.95        73

     accuracy                           0.88       218
    macro avg       0.89      0.88      0.88       218
 weighted avg       0.89      0.88      0.88       218</code></pre>
</div></div></div><div id="section-matriz-de-confusión-1" class="section level3 tab-pane tabbed-pane no-title chart-wrapper chart-wrapper-flex" role="tabpanel" style="flex: 460 460 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim">

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>&lt;sklearn.metrics._plot.confusion_matrix.ConfusionMatrixDisplay object at 0x0000029BFE1D0D30&gt;</code></pre>
<img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-40-5.png" width="360" data-figure-id="fig9">
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
</div></div></div><div id="section-frontera-de-separación-1" class="section level3 tab-pane tabbed-pane no-title chart-wrapper chart-wrapper-flex" role="tabpanel" style="flex: 460 460 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim">

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p class="image-container" style="background: url(&quot;Trabajo_final_files/figure-html/unnamed-chunk-42-1.png&quot;) center center / contain no-repeat;"><img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-42-1.png" width="768" data-figure-id="fig9"></p>
</div></div></div></div>


</div>
<div id="section-columna-5" class="section level2 dashboard-column" data-width="1" style="flex: 1 1 0px;">

<div id="section-conclusiones-1" class="section level3 chart-wrapper chart-wrapper-flex" style="flex: 491.8 491.8 0px;"><div class="chart-title">Conclusiones</div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

<p>El modelo es bastante mejor que el anterior, ya que tenemos una
accuracy casi de 0.9, y la métrica recall en insomnio y apnea del sueño
es muy próxima a 1. Pasamos a ver la matriz de confusión también, y nos
percatamos que el modelo clasifica perfectamente a las persponas con
apnea del sueño y cas perfecto a los sujetos con insomnio. Viendo la
frontera de decisión es mucho mejor que en el apartado anterior.</p>
</div></div></div>
</div>
</div></div>
<div class="dashboard-page-wrapper tab-pane" id="section-modelo-decision-tree" style="height: 100%;"><div class="section level1 vertical-layout-fill dashboard-column-orientation" data-navmenu="Modelado de datos" style="height: 100%;">

<div id="section-columna-6" class="section level2 dashboard-column" data-width="1" style="flex: 1 1 0px;">

<div id="section-modelo-2" class="section level3 chart-wrapper chart-wrapper-flex" style="flex: 491.8 491.8 0px;"><div class="chart-title">Modelo</div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

<p>Vamos a pasarle al modelo otra vez una serie de hiperparámetros que
sera la profundidad máxima del árbol para ver otra vez cual es la mejor
profundidad de todas ellas y quedarnos con el mejor modelo:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<style>#sk-container-id-33 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-33 {
  color: var(--sklearn-color-text);
}

#sk-container-id-33 pre {
  padding: 0;
}

#sk-container-id-33 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-33 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-33 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-33 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-33 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-33 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-33 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-33 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-33 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-33 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-33 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-33 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-33 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-33 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-33 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "▸";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-33 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-33 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-33 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-33 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-33 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-33 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-33 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "▾";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-33 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-33 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-33 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-33 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-33 div.sk-label label.sk-toggleable__label,
#sk-container-id-33 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-33 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-33 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-33 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-33 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-33 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-33 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-33 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-33 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-33 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-33 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-33 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-33 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div id="sk-container-id-33" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>GridSearchCV(cv=5, estimator=DecisionTreeClassifier(random_state=47563),
             param_grid=[{'max_depth': [3, 5, 7, 9, 11]}],
             return_train_score=True, scoring='neg_log_loss')</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item sk-dashed-wrapped"><div class="sk-label-container"><div class="sk-label fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually shiny-bound-input" id="sk-estimator-id-83" type="checkbox"><label for="sk-estimator-id-83" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>GridSearchCV</div></div><div><a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.6/modules/generated/sklearn.model_selection.GridSearchCV.html">?<span>Documentation for GridSearchCV</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>GridSearchCV(cv=5, estimator=DecisionTreeClassifier(random_state=47563),
             param_grid=[{'max_depth': [3, 5, 7, 9, 11]}],
             return_train_score=True, scoring='neg_log_loss')</pre></div> </div></div><div class="sk-parallel"><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually shiny-bound-input" id="sk-estimator-id-84" type="checkbox"><label for="sk-estimator-id-84" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>best_estimator_: DecisionTreeClassifier</div></div></label><div class="sk-toggleable__content fitted"><pre>DecisionTreeClassifier(max_depth=3, random_state=47563)</pre></div> </div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually shiny-bound-input" id="sk-estimator-id-85" type="checkbox"><label for="sk-estimator-id-85" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>DecisionTreeClassifier</div></div><div><a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.6/modules/generated/sklearn.tree.DecisionTreeClassifier.html">?<span>Documentation for DecisionTreeClassifier</span></a></div></label><div class="sk-toggleable__content fitted"><pre>DecisionTreeClassifier(max_depth=3, random_state=47563)</pre></div> </div></div></div></div></div></div></div></div></div>
<p>Vemos ahora cuales son los mejores valores de hiperparámetros y por
tanto cuál es el mejor modelo de Decision Tree:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>DecisionTreeClassifier(max_depth=3, random_state=47563)</code></pre>
</div></div></div>
</div>
<div id="section-columna-7" class="section level2 tabset dashboard-column nav-tabs-custom" data-width="2" style="flex: 2 2 0px;">

<ul class="nav nav-tabs" role="tablist"><li role="presentation" class="nav-item active"><a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-m%C3%A9tricas-del-modelo-2" aria-controls="section-métricas-del-modelo-2" aria-expanded="true">Métricas del modelo</a></li><li role="presentation" class="nav-item"><a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-matriz-de-confusi%C3%B3n-2" aria-controls="section-matriz-de-confusión-2">Matriz de confusión</a></li><li role="presentation" class="nav-item"><a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-frontera-de-separaci%C3%B3n-2" aria-controls="section-frontera-de-separación-2">Frontera de separación</a></li></ul><div class="tab-content" style="flex: 1 1 1px;"><div id="section-métricas-del-modelo-2" class="section level3 tab-pane tabbed-pane no-title active chart-wrapper chart-wrapper-flex" role="tabpanel" style="flex: 471.8 471.8 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim">

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>               precision    recall  f1-score   support

     Insomnia       0.50      0.71      0.58        72
No enfermedad       0.38      0.16      0.23        73
  Sleep Apnea       0.55      0.63      0.59        73

     accuracy                           0.50       218
    macro avg       0.47      0.50      0.47       218
 weighted avg       0.47      0.50      0.47       218</code></pre>
</div></div></div><div id="section-matriz-de-confusión-2" class="section level3 tab-pane tabbed-pane no-title chart-wrapper chart-wrapper-flex" role="tabpanel" style="flex: 460 460 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim">

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>&lt;sklearn.metrics._plot.confusion_matrix.ConfusionMatrixDisplay object at 0x0000029BFE1E7D00&gt;</code></pre>
<p class="image-container" style="background: url(&quot;Trabajo_final_files/figure-html/unnamed-chunk-46-3.png&quot;) center center / contain no-repeat;"><img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-46-3.png" width="360" data-figure-id="fig9"></p>
</div></div></div><div id="section-frontera-de-separación-2" class="section level3 tab-pane tabbed-pane no-title chart-wrapper chart-wrapper-flex" role="tabpanel" style="flex: 460 460 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim">

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p class="image-container" style="background: url(&quot;Trabajo_final_files/figure-html/unnamed-chunk-47-5.png&quot;) center center / contain no-repeat;"><img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-47-5.png" width="768" data-figure-id="fig9"></p>
</div></div></div></div>


</div>
<div id="section-columna-8" class="section level2 dashboard-column" data-width="1" style="flex: 1 1 0px;">

<div id="section-conclusiones-2" class="section level3 chart-wrapper chart-wrapper-flex" style="flex: 491.8 491.8 0px;"><div class="chart-title">Conclusiones</div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

<p>Tenemos un modelo de un rendimiento muy similar al primero a simple
vista de las métricas. Volvemos a visualizar la matriz de confusión, y
vemos que no clasifica para nada bien a las personas que no tienen
enfermedad.</p>
</div></div></div>
</div>
</div></div>
<div class="dashboard-page-wrapper tab-pane" id="section-modelo-knn" style="height: 100%;"><div class="section level1 vertical-layout-fill dashboard-column-orientation" data-navmenu="Modelado de datos" style="height: 100%;">

<div id="section-columna-9" class="section level2 dashboard-column" data-width="1" style="flex: 1 1 0px;">

<div id="section-modelo-3" class="section level3 chart-wrapper chart-wrapper-flex" style="flex: 491.8 491.8 0px;"><div class="chart-title">Modelo</div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<style>#sk-container-id-34 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-34 {
  color: var(--sklearn-color-text);
}

#sk-container-id-34 pre {
  padding: 0;
}

#sk-container-id-34 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-34 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-34 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-34 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-34 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-34 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-34 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-34 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-34 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-34 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-34 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-34 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-34 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-34 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-34 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "▸";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-34 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-34 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-34 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-34 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-34 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-34 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-34 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "▾";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-34 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-34 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-34 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-34 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-34 div.sk-label label.sk-toggleable__label,
#sk-container-id-34 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-34 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-34 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-34 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-34 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-34 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-34 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-34 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-34 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-34 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-34 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-34 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-34 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div id="sk-container-id-34" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>GridSearchCV(cv=15, estimator=KNeighborsClassifier(metric='hamming'),
             param_grid=[{'metric': ['hamming'],
                          'n_neighbors': [3, 5, 7, 9, 11]}],
             return_train_score=True, scoring='neg_log_loss')</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item sk-dashed-wrapped"><div class="sk-label-container"><div class="sk-label fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually shiny-bound-input" id="sk-estimator-id-86" type="checkbox"><label for="sk-estimator-id-86" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>GridSearchCV</div></div><div><a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.6/modules/generated/sklearn.model_selection.GridSearchCV.html">?<span>Documentation for GridSearchCV</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>GridSearchCV(cv=15, estimator=KNeighborsClassifier(metric='hamming'),
             param_grid=[{'metric': ['hamming'],
                          'n_neighbors': [3, 5, 7, 9, 11]}],
             return_train_score=True, scoring='neg_log_loss')</pre></div> </div></div><div class="sk-parallel"><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually shiny-bound-input" id="sk-estimator-id-87" type="checkbox"><label for="sk-estimator-id-87" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>best_estimator_: KNeighborsClassifier</div></div></label><div class="sk-toggleable__content fitted"><pre>KNeighborsClassifier(metric='hamming', n_neighbors=9)</pre></div> </div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually shiny-bound-input" id="sk-estimator-id-88" type="checkbox"><label for="sk-estimator-id-88" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>KNeighborsClassifier</div></div><div><a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.6/modules/generated/sklearn.neighbors.KNeighborsClassifier.html">?<span>Documentation for KNeighborsClassifier</span></a></div></label><div class="sk-toggleable__content fitted"><pre>KNeighborsClassifier(metric='hamming', n_neighbors=9)</pre></div> </div></div></div></div></div></div></div></div></div>
<p>Vemos ahora cuales son los mejores valores de hiperparámetros y por
tanto cuál es el mejor modelo de KNN:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>KNeighborsClassifier(metric='hamming', n_neighbors=9)</code></pre>
</div></div></div>
</div>
<div id="section-columna-10" class="section level2 tabset dashboard-column nav-tabs-custom" data-width="2" style="flex: 2 2 0px;">

<ul class="nav nav-tabs" role="tablist"><li role="presentation" class="nav-item active"><a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-m%C3%A9tricas-del-modelo-3" aria-controls="section-métricas-del-modelo-3" aria-expanded="true">Métricas del modelo</a></li><li role="presentation" class="nav-item"><a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-matriz-de-confusi%C3%B3n-3" aria-controls="section-matriz-de-confusión-3">Matriz de confusión</a></li><li role="presentation" class="nav-item"><a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-frontera-de-separaci%C3%B3n-3" aria-controls="section-frontera-de-separación-3">Frontera de separación</a></li></ul><div class="tab-content" style="flex: 1 1 1px;"><div id="section-métricas-del-modelo-3" class="section level3 tab-pane tabbed-pane no-title active chart-wrapper chart-wrapper-flex" role="tabpanel" style="flex: 471.8 471.8 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim">

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>               precision    recall  f1-score   support

     Insomnia       0.50      1.00      0.66        72
No enfermedad       0.00      0.00      0.00        73
  Sleep Apnea       1.00      1.00      1.00        73

     accuracy                           0.67       218
    macro avg       0.50      0.67      0.55       218
 weighted avg       0.50      0.67      0.55       218</code></pre>
</div></div></div><div id="section-matriz-de-confusión-3" class="section level3 tab-pane tabbed-pane no-title chart-wrapper chart-wrapper-flex" role="tabpanel" style="flex: 460 460 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim">

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>&lt;sklearn.metrics._plot.confusion_matrix.ConfusionMatrixDisplay object at 0x0000029BF49DC0D0&gt;</code></pre>
<p class="image-container" style="background: url(&quot;Trabajo_final_files/figure-html/unnamed-chunk-51-7.png&quot;) center center / contain no-repeat;"><img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-51-7.png" width="360" data-figure-id="fig9"></p>
</div></div></div><div id="section-frontera-de-separación-3" class="section level3 tab-pane tabbed-pane no-title chart-wrapper chart-wrapper-flex" role="tabpanel" style="flex: 460 460 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim">

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p class="image-container" style="background: url(&quot;Trabajo_final_files/figure-html/unnamed-chunk-52-9.png&quot;) center center / contain no-repeat;"><img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-52-9.png" width="768" data-figure-id="fig9"></p>
</div></div></div></div>


</div>
<div id="section-columna-11" class="section level2 dashboard-column" data-width="1" style="flex: 1 1 0px;">

<div id="section-conclusiones-3" class="section level3 chart-wrapper chart-wrapper-flex" style="flex: 491.8 491.8 0px;"><div class="chart-title">Conclusiones</div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

<p>En este modelo ocurre todo lo contrario, predecimos todos los
pacientes como que tienen insomnio, lo cual es incorrecto. Este modelo
no lo elegiremos como el mejor, lo descartamos inmediatamente.</p>
</div></div></div>
</div>
</div></div>
<div class="dashboard-page-wrapper tab-pane" id="section-modelo-mlp" style="height: 100%;"><div class="section level1 vertical-layout-fill dashboard-column-orientation" data-navmenu="Modelado de datos" style="height: 100%;">

<div id="section-columna-12" class="section level2 dashboard-column" data-width="1" style="flex: 1 1 0px;">

<div id="section-modelo-4" class="section level3 chart-wrapper chart-wrapper-flex" style="flex: 491.8 491.8 0px;"><div class="chart-title">Modelo</div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<style>#sk-container-id-35 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-35 {
  color: var(--sklearn-color-text);
}

#sk-container-id-35 pre {
  padding: 0;
}

#sk-container-id-35 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-35 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-35 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-35 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-35 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-35 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-35 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-35 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-35 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-35 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-35 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-35 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-35 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-35 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-35 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "▸";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-35 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-35 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-35 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-35 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-35 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-35 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-35 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "▾";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-35 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-35 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-35 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-35 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-35 div.sk-label label.sk-toggleable__label,
#sk-container-id-35 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-35 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-35 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-35 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-35 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-35 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-35 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-35 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-35 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-35 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-35 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-35 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-35 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div id="sk-container-id-35" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>GridSearchCV(cv=5, estimator=MLPClassifier(random_state=47563),
             param_grid=[{'activation': ['relu'],
                          'hidden_layer_sizes': [(5, 5), (5, 10), (5, 15),
                                                 (10, 5), (10, 10), (10, 15),
                                                 (15, 5), (15, 10), (15, 15)],
                          'max_iter': [500, 1000], 'solver': ['adam']}],
             return_train_score=True, scoring='neg_log_loss')</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item sk-dashed-wrapped"><div class="sk-label-container"><div class="sk-label fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually shiny-bound-input" id="sk-estimator-id-89" type="checkbox"><label for="sk-estimator-id-89" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>GridSearchCV</div></div><div><a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.6/modules/generated/sklearn.model_selection.GridSearchCV.html">?<span>Documentation for GridSearchCV</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>GridSearchCV(cv=5, estimator=MLPClassifier(random_state=47563),
             param_grid=[{'activation': ['relu'],
                          'hidden_layer_sizes': [(5, 5), (5, 10), (5, 15),
                                                 (10, 5), (10, 10), (10, 15),
                                                 (15, 5), (15, 10), (15, 15)],
                          'max_iter': [500, 1000], 'solver': ['adam']}],
             return_train_score=True, scoring='neg_log_loss')</pre></div> </div></div><div class="sk-parallel"><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually shiny-bound-input" id="sk-estimator-id-90" type="checkbox"><label for="sk-estimator-id-90" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>best_estimator_: MLPClassifier</div></div></label><div class="sk-toggleable__content fitted"><pre>MLPClassifier(hidden_layer_sizes=(15, 15), max_iter=1000, random_state=47563)</pre></div> </div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually shiny-bound-input" id="sk-estimator-id-91" type="checkbox"><label for="sk-estimator-id-91" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>MLPClassifier</div></div><div><a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.6/modules/generated/sklearn.neural_network.MLPClassifier.html">?<span>Documentation for MLPClassifier</span></a></div></label><div class="sk-toggleable__content fitted"><pre>MLPClassifier(hidden_layer_sizes=(15, 15), max_iter=1000, random_state=47563)</pre></div> </div></div></div></div></div></div></div></div></div>
<p>Vemos ahora cuales son los mejores valores de hiperparámetros y por
tanto cuál es el mejor modelo de mlp:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>MLPClassifier(hidden_layer_sizes=(15, 15), max_iter=1000, random_state=47563)</code></pre>
<p>Nos quedamos con el parámetro con menos nodos en cada capa oculta y
menor número de iteraciones. Pasamos a ver las métricas del modelo</p>
</div></div></div>
</div>
<div id="section-columna-13" class="section level2 tabset dashboard-column nav-tabs-custom" data-width="2" style="flex: 2 2 0px;">

<ul class="nav nav-tabs" role="tablist"><li role="presentation" class="nav-item active"><a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-m%C3%A9tricas-del-modelo-4" aria-controls="section-métricas-del-modelo-4" aria-expanded="true">Métricas del modelo</a></li><li role="presentation" class="nav-item"><a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-matriz-de-confusi%C3%B3n-4" aria-controls="section-matriz-de-confusión-4">Matriz de confusión</a></li><li role="presentation" class="nav-item"><a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link" href="http://127.0.0.1:3517/Trabajo_final.Rmd#section-frontera-de-separaci%C3%B3n-4" aria-controls="section-frontera-de-separación-4">Frontera de separación</a></li></ul><div class="tab-content" style="flex: 1 1 1px;"><div id="section-métricas-del-modelo-4" class="section level3 tab-pane tabbed-pane no-title active chart-wrapper chart-wrapper-flex" role="tabpanel" style="flex: 471.8 471.8 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim">

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>               precision    recall  f1-score   support

     Insomnia       0.53      0.57      0.55        72
No enfermedad       0.52      0.40      0.45        73
  Sleep Apnea       0.60      0.70      0.65        73

     accuracy                           0.56       218
    macro avg       0.55      0.56      0.55       218
 weighted avg       0.55      0.56      0.55       218</code></pre>
</div></div></div><div id="section-matriz-de-confusión-4" class="section level3 tab-pane tabbed-pane no-title chart-wrapper chart-wrapper-flex" role="tabpanel" style="flex: 460 460 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim">

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre><code>&lt;sklearn.metrics._plot.confusion_matrix.ConfusionMatrixDisplay object at 0x0000029BF1FEDF00&gt;</code></pre>
<p class="image-container" style="background: url(&quot;Trabajo_final_files/figure-html/unnamed-chunk-56-11.png&quot;) center center / contain no-repeat;"><img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-56-11.png" width="360" data-figure-id="fig9"></p>
</div></div></div><div id="section-frontera-de-separación-4" class="section level3 tab-pane tabbed-pane no-title chart-wrapper chart-wrapper-flex" role="tabpanel" style="flex: 460 460 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim">

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<p class="image-container" style="background: url(&quot;Trabajo_final_files/figure-html/unnamed-chunk-57-13.png&quot;) center center / contain no-repeat;"><img src="./Estudio de enfermedades del sueño_files/unnamed-chunk-57-13.png" width="768" data-figure-id="fig9"></p>
</div></div></div></div>


</div>
<div id="section-columna-14" class="section level2 dashboard-column" data-width="1" style="flex: 1 1 0px;">

<div id="section-conclusiones-4" class="section level3 chart-wrapper chart-wrapper-flex" style="flex: 491.8 491.8 0px;"><div class="chart-title">Conclusiones</div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

<p>Tenemos un modelo similar al primero de nuevo, aunque algo mejorado.
Vemos en la matriz de confusión y nos damos cuenta de que clasificamos
con muy poca precisión la clase no enfermedad, a pesar de que es algo
mejor para insomnio y apnea del sueño. La frontera de separación es algo
menos basta que la del modelo NB, pero sigue siendo poco aclaratoria. Es
un modelo calcado al primero, que presenta el mismo problema.</p>
</div></div></div>
</div>
</div></div>
<div class="dashboard-page-wrapper tab-pane" id="section-elección-mejor-modelo" style="height: 100%;"><div class="section level1 vertical-layout-fill dashboard-column-orientation" data-navmenu="Modelado de datos" style="height: 100%;"><div class="section level2 dashboard-column" style="flex: 576 576 0px;"><div class="section level3 chart-wrapper chart-wrapper-flex" style="flex: 471.8 471.8 0px;"><div class="chart-title" style=""></div><div class="chart-stage chart-stage-flex"><div class="chart-shim flowing-content-shim flowing-content-container">

<p>Hemos visto las métricas de cada uno de los modelos, comparando su
<em>accuracy</em>, <em>precission</em>, ó parámetros como <em>f1
score</em>. También hemos observado para cada uno de los modelos la
matriz de confusión, y un gráfico en el que vemos como separan las
clases las 2 componentes principales. Tras lo comentado en cada uno de
los modelos selecciono el modelo <strong>Random Forest</strong>.</p>
</div></div></div></div></div></div>
<div class="dashboard-page-wrapper tab-pane" id="section-nuevos-pacientes" style="height: 100%;"><div class="section level1 vertical-layout-fill dashboard-column-orientation" style="padding-left: 400px; height: 100%;">

<div id="section-introduzca-los-datos-del-paciente" class="section sidebar" data-width="400" style="width: 400px; visibility: visible; top: 50.8px;"><form>

<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="Sexo-label" for="Sexo-selectized">Sexo del paciente:</label>
<div>
<select id="Sexo" class="shiny-input-select selectized shiny-bound-input" tabindex="-1" style="display: none;">
<option value="Male" selected="selected">Male</option></select><div class="shiny-input-select selectize-control single plugin-selectize-plugin-a11y"><div class="selectize-input items full has-options has-items"><div class="item" data-value="Male">Male</div><input type="text" autocomplete="new-password" autofill="no" tabindex="" id="Sexo-selectized" role="combobox" aria-expanded="false" haspopup="listbox" aria-owns="5019z6lflm" style="width: 4px;"></div><div class="single selectize-dropdown shiny-input-select plugin-selectize-plugin-a11y" style="display: none;"><div class="selectize-dropdown-content" tabindex="-1" role="listbox" id="5019z6lflm"></div></div></div>
<script type="application/json" data-for="Sexo" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="Edad-label" for="Edad-selectized">Edad del paciente:</label>
<div>
<select id="Edad" class="shiny-input-select selectized shiny-bound-input" tabindex="-1" style="display: none;">

























































































<option value="10" selected="selected">10</option></select><div class="shiny-input-select selectize-control single plugin-selectize-plugin-a11y"><div class="selectize-input items full has-options has-items"><div class="item" data-value="10">10</div><input type="text" autocomplete="new-password" autofill="no" tabindex="" id="Edad-selectized" role="combobox" aria-expanded="false" haspopup="listbox" aria-owns="j4dkaphkhh" style="width: 4px;"></div><div class="single selectize-dropdown shiny-input-select plugin-selectize-plugin-a11y" style="display: none;"><div class="selectize-dropdown-content" tabindex="-1" role="listbox" id="j4dkaphkhh"></div></div></div>
<script type="application/json" data-for="Edad" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="Ocupacion-label" for="Ocupacion-selectized">Trabajo del paciente:</label>
<div>
<select id="Ocupacion" class="shiny-input-select selectized shiny-bound-input" tabindex="-1" style="display: none;">


<option value="Manual Labor" selected="selected">Manual Labor</option></select><div class="shiny-input-select selectize-control single plugin-selectize-plugin-a11y"><div class="selectize-input items full has-options has-items"><div class="item" data-value="Manual Labor">Manual Labor</div><input type="text" autocomplete="new-password" autofill="no" tabindex="" id="Ocupacion-selectized" role="combobox" aria-expanded="false" haspopup="listbox" aria-owns="pj84km1fva" style="width: 4px;"></div><div class="single selectize-dropdown shiny-input-select plugin-selectize-plugin-a11y" style="display: none;"><div class="selectize-dropdown-content" tabindex="-1" role="listbox" id="pj84km1fva"></div></div></div>
<script type="application/json" data-for="Ocupacion" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="Horas_sueño-label" for="Horas_sueño-selectized">Horas de sueño del paciente (en horas):</label>
<div>
<select id="Horas_sueño" class="shiny-input-select selectized shiny-bound-input" tabindex="-1" style="display: none;">













































































































<option value="3" selected="selected">3</option></select><div class="shiny-input-select selectize-control single plugin-selectize-plugin-a11y"><div class="selectize-input items full has-options has-items"><div class="item" data-value="3">3</div><input type="text" autocomplete="new-password" autofill="no" tabindex="" id="Horas_sueño-selectized" role="combobox" aria-expanded="false" haspopup="listbox" aria-owns="9o6xhzi734" style="width: 4px;"></div><div class="single selectize-dropdown shiny-input-select plugin-selectize-plugin-a11y" style="display: none;"><div class="selectize-dropdown-content" tabindex="-1" role="listbox" id="9o6xhzi734"></div></div></div>
<script type="application/json" data-for="Horas_sueño" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="Calidad_sueño-label" for="Calidad_sueño-selectized">Calidad sueño del paciente (1-10):</label>
<div>
<select id="Calidad_sueño" class="shiny-input-select selectized shiny-bound-input" tabindex="-1" style="display: none;">








<option value="1" selected="selected">1</option></select><div class="shiny-input-select selectize-control single plugin-selectize-plugin-a11y"><div class="selectize-input items full has-options has-items"><div class="item" data-value="1">1</div><input type="text" autocomplete="new-password" autofill="no" tabindex="" id="Calidad_sueño-selectized" role="combobox" aria-expanded="false" haspopup="listbox" aria-owns="zybsay6rvc" style="width: 4px;"></div><div class="single selectize-dropdown shiny-input-select plugin-selectize-plugin-a11y" style="display: none;"><div class="selectize-dropdown-content" tabindex="-1" role="listbox" id="zybsay6rvc"></div></div></div>
<script type="application/json" data-for="Calidad_sueño" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="Actividad_Fisica-label" for="Actividad_Fisica-selectized">Actividad física del paciente (minutos al día):</label>
<div>
<select id="Actividad_Fisica" class="shiny-input-select selectized shiny-bound-input" tabindex="-1" style="display: none;">





























































































































































































<option value="10" selected="selected">10</option></select><div class="shiny-input-select selectize-control single plugin-selectize-plugin-a11y"><div class="selectize-input items full has-options has-items"><div class="item" data-value="10">10</div><input type="text" autocomplete="new-password" autofill="no" tabindex="" id="Actividad_Fisica-selectized" role="combobox" aria-expanded="false" haspopup="listbox" aria-owns="cchv9m3yub" style="width: 4px;"></div><div class="single selectize-dropdown shiny-input-select plugin-selectize-plugin-a11y" style="display: none;"><div class="selectize-dropdown-content" tabindex="-1" role="listbox" id="cchv9m3yub"></div></div></div>
<script type="application/json" data-for="Actividad_Fisica" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="Nivel_estres-label" for="Nivel_estres-selectized">Nivel de estres del paciente (1-10):</label>
<div>
<select id="Nivel_estres" class="shiny-input-select selectized shiny-bound-input" tabindex="-1" style="display: none;">








<option value="1" selected="selected">1</option></select><div class="shiny-input-select selectize-control single plugin-selectize-plugin-a11y"><div class="selectize-input items full has-options has-items"><div class="item" data-value="1">1</div><input type="text" autocomplete="new-password" autofill="no" tabindex="" id="Nivel_estres-selectized" role="combobox" aria-expanded="false" haspopup="listbox" aria-owns="64jg18k697" style="width: 4px;"></div><div class="single selectize-dropdown shiny-input-select plugin-selectize-plugin-a11y" style="display: none;"><div class="selectize-dropdown-content" tabindex="-1" role="listbox" id="64jg18k697"></div></div></div>
<script type="application/json" data-for="Nivel_estres" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="Indice_masa_corporal-label" for="Indice_masa_corporal-selectized">Índice de masa corporal del paciente:</label>
<div>
<select id="Indice_masa_corporal" class="shiny-input-select selectized shiny-bound-input" tabindex="-1" style="display: none;">


<option value="Normal" selected="selected">Normal</option></select><div class="shiny-input-select selectize-control single plugin-selectize-plugin-a11y"><div class="selectize-input items full has-options has-items"><div class="item" data-value="Normal">Normal</div><input type="text" autocomplete="new-password" autofill="no" tabindex="" id="Indice_masa_corporal-selectized" role="combobox" aria-expanded="false" haspopup="listbox" aria-owns="loli1hnh8d" style="width: 4px;"></div><div class="single selectize-dropdown shiny-input-select plugin-selectize-plugin-a11y" style="display: none;"><div class="selectize-dropdown-content" tabindex="-1" role="listbox" id="loli1hnh8d"></div></div></div>
<script type="application/json" data-for="Indice_masa_corporal" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="pulsaciones-label" for="pulsaciones-selectized">Pulsaciones del paciente (por minuto):</label>
<div>
<select id="pulsaciones" class="shiny-input-select selectized shiny-bound-input" tabindex="-1" style="display: none;">

































































































































<option value="30" selected="selected">30</option></select><div class="shiny-input-select selectize-control single plugin-selectize-plugin-a11y"><div class="selectize-input items full has-options has-items"><div class="item" data-value="30">30</div><input type="text" autocomplete="new-password" autofill="no" tabindex="" id="pulsaciones-selectized" role="combobox" aria-expanded="false" haspopup="listbox" aria-owns="pheij8rfag" style="width: 4px;"></div><div class="single selectize-dropdown shiny-input-select plugin-selectize-plugin-a11y" style="display: none;"><div class="selectize-dropdown-content" tabindex="-1" role="listbox" id="pheij8rfag"></div></div></div>
<script type="application/json" data-for="pulsaciones" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="pasos-label" for="pasos-selectized">Pasos diarios del paciente:</label>
<div>
<select id="pasos" class="shiny-input-select selectized shiny-bound-input" tabindex="-1" style="display: none;">























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































<option value="1000" selected="selected">1000</option></select><div class="shiny-input-select selectize-control single plugin-selectize-plugin-a11y"><div class="selectize-input items full has-options has-items"><div class="item" data-value="1000">1000</div><input type="text" autocomplete="new-password" autofill="no" tabindex="" id="pasos-selectized" role="combobox" aria-expanded="false" haspopup="listbox" aria-owns="b7z2il4u5o" style="width: 4px;"></div><div class="single selectize-dropdown shiny-input-select plugin-selectize-plugin-a11y" style="display: none;"><div class="selectize-dropdown-content" tabindex="-1" role="listbox" id="b7z2il4u5o"></div></div></div>
<script type="application/json" data-for="pasos" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="presion_baja-label" for="presion_baja-selectized">Presión baja del paciente:</label>
<div>
<select id="presion_baja" class="shiny-input-select selectized shiny-bound-input" tabindex="-1" style="display: none;">



























































<option value="50" selected="selected">50</option></select><div class="shiny-input-select selectize-control single plugin-selectize-plugin-a11y"><div class="selectize-input items full has-options has-items"><div class="item" data-value="50">50</div><input type="text" autocomplete="new-password" autofill="no" tabindex="" id="presion_baja-selectized" role="combobox" aria-expanded="false" haspopup="listbox" aria-owns="hosnaabx6x" style="width: 4px;"></div><div class="single selectize-dropdown shiny-input-select plugin-selectize-plugin-a11y" style="display: none;"><div class="selectize-dropdown-content" tabindex="-1" role="listbox" id="hosnaabx6x"></div></div></div>
<script type="application/json" data-for="presion_baja" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="form-group shiny-input-container">
<label class="control-label" id="presion_alta-label" for="presion_alta-selectized">Presión alta del paciente:</label>
<div>
<select id="presion_alta" class="shiny-input-select selectized shiny-bound-input" tabindex="-1" style="display: none;">



























































<option value="100" selected="selected">100</option></select><div class="shiny-input-select selectize-control single plugin-selectize-plugin-a11y"><div class="selectize-input items full has-options has-items"><div class="item" data-value="100">100</div><input type="text" autocomplete="new-password" autofill="no" tabindex="" id="presion_alta-selectized" role="combobox" aria-expanded="false" haspopup="listbox" aria-owns="toqhh696x0" style="width: 4px;"></div><div class="single selectize-dropdown shiny-input-select plugin-selectize-plugin-a11y" style="display: none;"><div class="selectize-dropdown-content" tabindex="-1" role="listbox" id="toqhh696x0"></div></div></div>
<script type="application/json" data-for="presion_alta" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</form></div>
<div id="section-diagnóstico-del-paciente" class="section level2 dashboard-column" style="flex: 576 576 0px;">

<p>Según nuestro mejor modelo, el paciente presenta:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre class="shiny-text-output noplaceholder shiny-bound-output" id="diagnostico" aria-live="polite">No enfermedad</pre>
<p>Con una probabilidad de:</p>
<div class="knitr-options" data-fig-width="360" data-fig-height="460">

</div>
<pre class="shiny-text-output noplaceholder shiny-bound-output" id="prob" aria-live="polite">0.778</pre>
</div>
</div></div>

</div></div>

<script>
$(document).ready(function() {
  // add bootstrap table styles to pandoc tables
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed table-sm');

  // initialize mathjax
  var script = document.createElement("script");
  script.type = "text/javascript";
  script.src  = "mathjax-local/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
  document.getElementsByTagName("head")[0].appendChild(script);

});
</script>

<script type="text/javascript">
$(document).ready(function () {
  FlexDashboard.init({
    fillPage: true,
    orientation: "columns",
    storyboard: false,
    defaultFigWidth: 576,
    defaultFigHeight: 460,
    defaultFigWidthMobile: 360,
    defaultFigHeightMobile: 460,
    resize_reload: true
  });
  var navbar = $(".navbar").first();
  var body = $("body").first();
  var sidebar = $(".section.sidebar").first();
  function addNavbarPadding() {
    var navHeight = navbar.outerHeight();
    body.css("padding-top", (navHeight + 8) + "px");
    sidebar.css("top", navHeight + "px");
    var resizeEvent = window.document.createEvent("UIEvents");
    resizeEvent.initUIEvent("resize", true, false, window, 0);
    window.dispatchEvent(resizeEvent);
  }
  if (!window.Shiny) setTimeout(addNavbarPadding, 100);
  $(document).on("shiny:idle", function() {
    setTimeout(addNavbarPadding, 50);
  });
});
</script>


</div>
  </div>


<div aria-live="assertive" role="log" aria-relevant="additions" aria-atomic="true" style="position: absolute; width: 1px; height: 1px; margin-top: -1px; clip: rect(1px, 1px, 1px, 1px); overflow: hidden;"></div><div aria-live="assertive" role="log" aria-relevant="additions" aria-atomic="true" style="position: absolute; width: 1px; height: 1px; margin-top: -1px; clip: rect(1px, 1px, 1px, 1px); overflow: hidden;"></div><div aria-live="assertive" role="log" aria-relevant="additions" aria-atomic="true" style="position: absolute; width: 1px; height: 1px; margin-top: -1px; clip: rect(1px, 1px, 1px, 1px); overflow: hidden;"></div><div aria-live="assertive" role="log" aria-relevant="additions" aria-atomic="true" style="position: absolute; width: 1px; height: 1px; margin-top: -1px; clip: rect(1px, 1px, 1px, 1px); overflow: hidden;"></div><div aria-live="assertive" role="log" aria-relevant="additions" aria-atomic="true" style="position: absolute; width: 1px; height: 1px; margin-top: -1px; clip: rect(1px, 1px, 1px, 1px); overflow: hidden;"></div><div aria-live="assertive" role="log" aria-relevant="additions" aria-atomic="true" style="position: absolute; width: 1px; height: 1px; margin-top: -1px; clip: rect(1px, 1px, 1px, 1px); overflow: hidden;"></div><div aria-live="assertive" role="log" aria-relevant="additions" aria-atomic="true" style="position: absolute; width: 1px; height: 1px; margin-top: -1px; clip: rect(1px, 1px, 1px, 1px); overflow: hidden;"></div><div aria-live="assertive" role="log" aria-relevant="additions" aria-atomic="true" style="position: absolute; width: 1px; height: 1px; margin-top: -1px; clip: rect(1px, 1px, 1px, 1px); overflow: hidden;"></div><div aria-live="assertive" role="log" aria-relevant="additions" aria-atomic="true" style="position: absolute; width: 1px; height: 1px; margin-top: -1px; clip: rect(1px, 1px, 1px, 1px); overflow: hidden;"></div><div aria-live="assertive" role="log" aria-relevant="additions" aria-atomic="true" style="position: absolute; width: 1px; height: 1px; margin-top: -1px; clip: rect(1px, 1px, 1px, 1px); overflow: hidden;"></div><div aria-live="assertive" role="log" aria-relevant="additions" aria-atomic="true" style="position: absolute; width: 1px; height: 1px; margin-top: -1px; clip: rect(1px, 1px, 1px, 1px); overflow: hidden;"></div><div aria-live="assertive" role="log" aria-relevant="additions" aria-atomic="true" style="position: absolute; width: 1px; height: 1px; margin-top: -1px; clip: rect(1px, 1px, 1px, 1px); overflow: hidden;"></div></body></html>